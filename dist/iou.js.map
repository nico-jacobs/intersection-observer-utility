{"version":3,"sources":["webpack://Iou/webpack/universalModuleDefinition","webpack://Iou/webpack/bootstrap","webpack://Iou/./node_modules/intersection-observer/intersection-observer.js","webpack://Iou/./node_modules/events-polyfill/index.js","webpack://Iou/./src/js/util/isObject.js","webpack://Iou/./src/js/lib/iouDefaultFunctions.js","webpack://Iou/./src/iou.js","webpack://Iou/./src/js/lib/iou.js","webpack://Iou/./src/js/util/mergeDeep.js"],"names":["root","factory","exports","module","define","amd","self","this","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","window","IntersectionObserverEntry","intersectionRatio","document","registry","IntersectionObserver","THROTTLE_TIMEOUT","POLL_INTERVAL","USE_MUTATION_OBSERVER","observe","target","_observationTargets","some","item","element","nodeType","Error","_registerInstance","push","entry","_monitorIntersections","_checkForIntersections","unobserve","filter","length","_unmonitorIntersections","_unregisterInstance","disconnect","takeRecords","records","_queuedEntries","slice","_initThresholds","opt_threshold","threshold","Array","isArray","sort","a","isNaN","_parseRootMargin","opt_rootMargin","margins","split","map","margin","parts","exec","parseFloat","unit","_monitoringIntersections","_monitoringInterval","setInterval","addEvent","_domObserver","MutationObserver","attributes","childList","characterData","subtree","clearInterval","removeEvent","rootIsInDom","_rootIsInDom","rootRect","_getRootRect","top","bottom","left","right","width","height","forEach","targetRect","getBoundingClientRect","rootContainsTarget","_rootContainsTarget","oldEntry","intersectionRect","_computeTargetAndRootIntersection","newEntry","time","performance","now","boundingClientRect","rootBounds","_hasCrossedThreshold","isIntersecting","_callback","getComputedStyle","display","rect1","rect2","parent","getParentNode","atRoot","parentRect","parentComputedStyle","body","documentElement","overflow","Math","max","min","html","clientWidth","clientHeight","_expandRectByRootMargin","rect","_rootMarginValues","newRect","oldRatio","newRatio","thresholds","containsDeep","indexOf","index","splice","targetArea","intersectionArea","Number","toFixed","callback","opt_options","fn","timeout","timer","options","setTimeout","rootMargin","join","node","event","opt_useCapture","addEventListener","attachEvent","removeEventListener","detatchEvent","el","err","child","parentNode","host","assignedSlot","e","f","require","u","code","1","EventTarget","Node","EventListenerInterceptor","interceptors","normalizedArguments","type","capture","__eventListeners","listener","handleEvent","once","Boolean","passive","normalizeListenerCallback","normalizeListenerOptions","interceptor","interceptAddEventListener","interceptRemoveEventListener","_this","normalizeListenerArguments","getRegisteredEventListener","polyfilled","add","registerEventListener","registeredEventListener","unregisterEventListener","intercept","Window","error","console","2","isSupportedOnEvent","isSupportedTransitionEvent","style","isSupportedFullScreenEvent","test","toLowerCase","generateEventTypes","eventTypes","vendorPrefixes","isSupported","prefix","getSupportedEventType","types","_type","polyfillListenerEventTypes","interceptAll","3","detectSupportedOptions","supportedOptions","all","createDocumentFragment","polyfillListenerOptions","preventDefault","4","proto","getPrototypeOf","descriptor","getOwnPropertyDescriptor","5","ApplyThisPrototype","CustomEvent","bubbles","cancelable","CustomEventOriginal","Event","eventName","params","createEvent","initCustomEvent","detail","6","EventOriginal","initEvent","7","FocusEvent","FocusEventOriginal","initFocusEvent","view","relatedTarget","8","KeyboardEvent","KeyboardEventOriginal","initKeyboardEvent","location","ctrlKey","altKey","shiftKey","metaKey","repeat","locale","navigator","language","keyCode","charCode","char","which","9","MouseEvent","MouseEventOriginal","initMouseEvent","screenX","screenY","clientX","clientY","button","buttons","region","10","PointerEvent","PointerEventOriginal","initPointerEvent","offsetX","offsetY","pressure","twist","tiltX","tiltY","pointerId","pointerType","hwTimestamp","isPrimary","tangentialPressure","rotationDescriptor","11","12","isObject","setVisible","entryCurrents","entryPrevs","entryNexts","IouInstance","dataVisible","strings","attributeVisible","dataVisibleTrue","attributeVisibleTrue","dataRelation","attributeRelation","dataRelationCurrent","attributeRelationCurrent","dataRelationNext","attributeRelationNext","dataRelationPrev","attributeRelationPrev","targetEl","setAttribute","prevEl","nextEl","setInVisible","dataVisibleFalse","attributeVisibleFalse","getAttribute","setDirection","posVal","dataAttr","attributeDirection","setRelation","getNextSiblings","elem","tagNameMain","tagName","siblings","nextSibling","getPreviousSiblings","previousSibling","defaultExport","constructor","customOptions","settings","mergeCustomDefaultOptions","elementTrigger","functions","initialized","pageHasScrolled","mergeDeep","sources","source","shift","assign","attributeTarget","attributeVisibleTop","attributeVisibleBottom","attributeInVisibleTop","attributeInVisibleBottom","siblingsFilter","iouFunctions","dispatchIouOut","eventIouOut","entryObj","dispatchEvent","dispatchIouIn","eventIouIn","siblingsNext","siblingsPrev","init","IntersectionWatcher","setEntryRelation","targetString","re","targetSel","currentEls","querySelectorAll","currentEl","targetEls","elements","observer","entries","log","entryLogicIn","entryLogicOut","yPos","userHasScrolled","setHasScrolled"],"mappings":"CAAA,SAA2CA,EAAMC,GAC1B,iBAAZC,SAA0C,iBAAXC,OACxCA,OAAOD,QAAUD,IACQ,mBAAXG,QAAyBA,OAAOC,IAC9CD,OAAO,GAAIH,GACe,iBAAZC,QACdA,QAAa,IAAID,IAEjBD,EAAU,IAAIC,IARhB,CASoB,oBAATK,KAAuBA,KAAOC,MAAO,WAChD,O,YCTE,IAAIC,EAAmB,GAGvB,SAASC,EAAoBC,GAG5B,GAAGF,EAAiBE,GACnB,OAAOF,EAAiBE,GAAUR,QAGnC,IAAIC,EAASK,EAAiBE,GAAY,CACzCC,EAAGD,EACHE,GAAG,EACHV,QAAS,IAUV,OANAW,EAAQH,GAAUI,KAAKX,EAAOD,QAASC,EAAQA,EAAOD,QAASO,GAG/DN,EAAOS,GAAI,EAGJT,EAAOD,QA0Df,OArDAO,EAAoBM,EAAIF,EAGxBJ,EAAoBO,EAAIR,EAGxBC,EAAoBQ,EAAI,SAASf,EAASgB,EAAMC,GAC3CV,EAAoBW,EAAElB,EAASgB,IAClCG,OAAOC,eAAepB,EAASgB,EAAM,CAAEK,YAAY,EAAMC,IAAKL,KAKhEV,EAAoBgB,EAAI,SAASvB,GACX,oBAAXwB,QAA0BA,OAAOC,aAC1CN,OAAOC,eAAepB,EAASwB,OAAOC,YAAa,CAAEC,MAAO,WAE7DP,OAAOC,eAAepB,EAAS,aAAc,CAAE0B,OAAO,KAQvDnB,EAAoBoB,EAAI,SAASD,EAAOE,GAEvC,GADU,EAAPA,IAAUF,EAAQnB,EAAoBmB,IAC/B,EAAPE,EAAU,OAAOF,EACpB,GAAW,EAAPE,GAA8B,iBAAVF,GAAsBA,GAASA,EAAMG,WAAY,OAAOH,EAChF,IAAII,EAAKX,OAAOY,OAAO,MAGvB,GAFAxB,EAAoBgB,EAAEO,GACtBX,OAAOC,eAAeU,EAAI,UAAW,CAAET,YAAY,EAAMK,MAAOA,IACtD,EAAPE,GAA4B,iBAATF,EAAmB,IAAI,IAAIM,KAAON,EAAOnB,EAAoBQ,EAAEe,EAAIE,EAAK,SAASA,GAAO,OAAON,EAAMM,IAAQC,KAAK,KAAMD,IAC9I,OAAOF,GAIRvB,EAAoB2B,EAAI,SAASjC,GAChC,IAAIgB,EAAShB,GAAUA,EAAO4B,WAC7B,WAAwB,OAAO5B,EAAgB,SAC/C,WAA8B,OAAOA,GAEtC,OADAM,EAAoBQ,EAAEE,EAAQ,IAAKA,GAC5BA,GAIRV,EAAoBW,EAAI,SAASiB,EAAQC,GAAY,OAAOjB,OAAOkB,UAAUC,eAAe1B,KAAKuB,EAAQC,IAGzG7B,EAAoBgC,EAAI,KAIjBhC,EAAoBA,EAAoBiC,EAAI,G,iBC1EpD,WACD,aAGA,GAAsB,iBAAXC,OAMX,GAAI,yBAA0BA,QAC1B,8BAA+BA,QAC/B,sBAAuBA,OAAOC,0BAA0BL,UAIpD,mBAAoBI,OAAOC,0BAA0BL,WACzDlB,OAAOC,eAAeqB,OAAOC,0BAA0BL,UACrD,iBAAkB,CAClBf,IAAK,WACH,OAAOjB,KAAKsC,kBAAoB,SAVxC,CAqBA,IAAIC,EAAWH,OAAOG,SASlBC,EAAW,GA+EfC,EAAqBT,UAAUU,iBAAmB,IAQlDD,EAAqBT,UAAUW,cAAgB,KAM/CF,EAAqBT,UAAUY,uBAAwB,EAQvDH,EAAqBT,UAAUa,QAAU,SAASC,GAKhD,IAJ8B9C,KAAK+C,oBAAoBC,MAAK,SAASC,GACnE,OAAOA,EAAKC,SAAWJ,KAGzB,CAIA,IAAMA,GAA6B,GAAnBA,EAAOK,SACrB,MAAM,IAAIC,MAAM,6BAGlBpD,KAAKqD,oBACLrD,KAAK+C,oBAAoBO,KAAK,CAACJ,QAASJ,EAAQS,MAAO,OACvDvD,KAAKwD,wBACLxD,KAAKyD,2BAQPhB,EAAqBT,UAAU0B,UAAY,SAASZ,GAClD9C,KAAK+C,oBACD/C,KAAK+C,oBAAoBY,QAAO,SAASV,GAE3C,OAAOA,EAAKC,SAAWJ,KAEpB9C,KAAK+C,oBAAoBa,SAC5B5D,KAAK6D,0BACL7D,KAAK8D,wBAQTrB,EAAqBT,UAAU+B,WAAa,WAC1C/D,KAAK+C,oBAAsB,GAC3B/C,KAAK6D,0BACL7D,KAAK8D,uBAUPrB,EAAqBT,UAAUgC,YAAc,WAC3C,IAAIC,EAAUjE,KAAKkE,eAAeC,QAElC,OADAnE,KAAKkE,eAAiB,GACfD,GAaTxB,EAAqBT,UAAUoC,gBAAkB,SAASC,GACxD,IAAIC,EAAYD,GAAiB,CAAC,GAGlC,OAFKE,MAAMC,QAAQF,KAAYA,EAAY,CAACA,IAErCA,EAAUG,OAAOd,QAAO,SAASrC,EAAGlB,EAAGsE,GAC5C,GAAgB,iBAALpD,GAAiBqD,MAAMrD,IAAMA,EAAI,GAAKA,EAAI,EACnD,MAAM,IAAI8B,MAAM,0DAElB,OAAO9B,IAAMoD,EAAEtE,EAAI,OAgBvBqC,EAAqBT,UAAU4C,iBAAmB,SAASC,GACzD,IACIC,GADeD,GAAkB,OACVE,MAAM,OAAOC,KAAI,SAASC,GACnD,IAAIC,EAAQ,wBAAwBC,KAAKF,GACzC,IAAKC,EACH,MAAM,IAAI9B,MAAM,qDAElB,MAAO,CAAC/B,MAAO+D,WAAWF,EAAM,IAAKG,KAAMH,EAAM,OAQnD,OAJAJ,EAAQ,GAAKA,EAAQ,IAAMA,EAAQ,GACnCA,EAAQ,GAAKA,EAAQ,IAAMA,EAAQ,GACnCA,EAAQ,GAAKA,EAAQ,IAAMA,EAAQ,GAE5BA,GASTrC,EAAqBT,UAAUwB,sBAAwB,WAChDxD,KAAKsF,2BACRtF,KAAKsF,0BAA2B,EAI5BtF,KAAK2C,cACP3C,KAAKuF,oBAAsBC,YACvBxF,KAAKyD,uBAAwBzD,KAAK2C,gBAGtC8C,EAASrD,OAAQ,SAAUpC,KAAKyD,wBAAwB,GACxDgC,EAASlD,EAAU,SAAUvC,KAAKyD,wBAAwB,GAEtDzD,KAAK4C,uBAAyB,qBAAsBR,SACtDpC,KAAK0F,aAAe,IAAIC,iBAAiB3F,KAAKyD,wBAC9CzD,KAAK0F,aAAa7C,QAAQN,EAAU,CAClCqD,YAAY,EACZC,WAAW,EACXC,eAAe,EACfC,SAAS,QAYnBtD,EAAqBT,UAAU6B,wBAA0B,WACnD7D,KAAKsF,2BACPtF,KAAKsF,0BAA2B,EAEhCU,cAAchG,KAAKuF,qBACnBvF,KAAKuF,oBAAsB,KAE3BU,EAAY7D,OAAQ,SAAUpC,KAAKyD,wBAAwB,GAC3DwC,EAAY1D,EAAU,SAAUvC,KAAKyD,wBAAwB,GAEzDzD,KAAK0F,eACP1F,KAAK0F,aAAa3B,aAClB/D,KAAK0F,aAAe,QAY1BjD,EAAqBT,UAAUyB,uBAAyB,WACtD,IAAIyC,EAAclG,KAAKmG,eACnBC,EAAWF,EAAclG,KAAKqG,eAyW3B,CACLC,IAAK,EACLC,OAAQ,EACRC,KAAM,EACNC,MAAO,EACPC,MAAO,EACPC,OAAQ,GA7WV3G,KAAK+C,oBAAoB6D,SAAQ,SAAS3D,GACxC,IAAIH,EAASG,EAAKC,QACd2D,EAAaC,EAAsBhE,GACnCiE,EAAqB/G,KAAKgH,oBAAoBlE,GAC9CmE,EAAWhE,EAAKM,MAChB2D,EAAmBhB,GAAea,GAClC/G,KAAKmH,kCAAkCrE,EAAQsD,GAE/CgB,EAAWnE,EAAKM,MAAQ,IAAIlB,EAA0B,CACxDgF,KAiOGjF,OAAOkF,aAAeA,YAAYC,KAAOD,YAAYC,MAhOxDzE,OAAQA,EACR0E,mBAAoBX,EACpBY,WAAYrB,EACZc,iBAAkBA,IAGfD,EAEMf,GAAea,EAGpB/G,KAAK0H,qBAAqBT,EAAUG,IACtCpH,KAAKkE,eAAeZ,KAAK8D,GAMvBH,GAAYA,EAASU,gBACvB3H,KAAKkE,eAAeZ,KAAK8D,GAZ3BpH,KAAKkE,eAAeZ,KAAK8D,KAe1BpH,MAECA,KAAKkE,eAAeN,QACtB5D,KAAK4H,UAAU5H,KAAKgE,cAAehE,OAiBvCyC,EAAqBT,UAAUmF,kCAC3B,SAASrE,EAAQsD,GAGnB,GAA+C,QAA3ChE,OAAOyF,iBAAiB/E,GAAQgF,QAApC,CAOA,IALA,IAoP+BC,EAAOC,EAClC1B,EACAC,EACAC,EACAC,EACAC,EACAC,EAzPAO,EADaJ,EAAsBhE,GAEnCmF,EAASC,EAAcpF,GACvBqF,GAAS,GAELA,GAAQ,CACd,IAAIC,EAAa,KACbC,EAAyC,GAAnBJ,EAAO9E,SAC7Bf,OAAOyF,iBAAiBI,GAAU,GAGtC,GAAmC,QAA/BI,EAAoBP,QAAmB,OAmB3C,GAjBIG,GAAUjI,KAAKP,MAAQwI,GAAU1F,GACnC4F,GAAS,EACTC,EAAahC,GAMT6B,GAAU1F,EAAS+F,MACnBL,GAAU1F,EAASgG,iBACa,WAAhCF,EAAoBG,WACtBJ,EAAatB,EAAsBmB,IAMnCG,IAsNyBL,EArNgBK,EAqNTJ,EArNqBd,EAsNvDZ,SACAC,SACAC,SACAC,SACAC,SACAC,SALAL,EAAMmC,KAAKC,IAAIX,EAAMzB,IAAK0B,EAAM1B,KAChCC,EAASkC,KAAKE,IAAIZ,EAAMxB,OAAQyB,EAAMzB,QACtCC,EAAOiC,KAAKC,IAAIX,EAAMvB,KAAMwB,EAAMxB,MAClCC,EAAQgC,KAAKE,IAAIZ,EAAMtB,MAAOuB,EAAMvB,OAEpCE,EAASJ,EAASD,IA3NlBY,GA0NAR,EAAQD,EAAQD,IAGH,GAAKG,GAAU,GAAM,CACpCL,IAAKA,EACLC,OAAQA,EACRC,KAAMA,EACNC,MAAOA,EACPC,MAAOA,EACPC,OAAQA,KAjOiB,MAEzBsB,EAASC,EAAcD,GAEzB,OAAOf,IASTzE,EAAqBT,UAAUqE,aAAe,WAC5C,IAAID,EACJ,GAAIpG,KAAKP,KACP2G,EAAWU,EAAsB9G,KAAKP,UACjC,CAEL,IAAImJ,EAAOrG,EAASgG,gBAChBD,EAAO/F,EAAS+F,KACpBlC,EAAW,CACTE,IAAK,EACLE,KAAM,EACNC,MAAOmC,EAAKC,aAAeP,EAAKO,YAChCnC,MAAOkC,EAAKC,aAAeP,EAAKO,YAChCtC,OAAQqC,EAAKE,cAAgBR,EAAKQ,aAClCnC,OAAQiC,EAAKE,cAAgBR,EAAKQ,cAGtC,OAAO9I,KAAK+I,wBAAwB3C,IAUtC3D,EAAqBT,UAAU+G,wBAA0B,SAASC,GAChE,IAAIlE,EAAU9E,KAAKiJ,kBAAkBjE,KAAI,SAASC,EAAQ7E,GACxD,MAAsB,MAAf6E,EAAOI,KAAeJ,EAAO5D,MAChC4D,EAAO5D,OAASjB,EAAI,EAAI4I,EAAKtC,MAAQsC,EAAKrC,QAAU,OAEtDuC,EAAU,CACZ5C,IAAK0C,EAAK1C,IAAMxB,EAAQ,GACxB2B,MAAOuC,EAAKvC,MAAQ3B,EAAQ,GAC5ByB,OAAQyC,EAAKzC,OAASzB,EAAQ,GAC9B0B,KAAMwC,EAAKxC,KAAO1B,EAAQ,IAK5B,OAHAoE,EAAQxC,MAAQwC,EAAQzC,MAAQyC,EAAQ1C,KACxC0C,EAAQvC,OAASuC,EAAQ3C,OAAS2C,EAAQ5C,IAEnC4C,GAcTzG,EAAqBT,UAAU0F,qBAC3B,SAAST,EAAUG,GAIrB,IAAI+B,EAAWlC,GAAYA,EAASU,eAChCV,EAAS3E,mBAAqB,GAAK,EACnC8G,EAAWhC,EAASO,eACpBP,EAAS9E,mBAAqB,GAAK,EAGvC,GAAI6G,IAAaC,EAEjB,IAAK,IAAIhJ,EAAI,EAAGA,EAAIJ,KAAKqJ,WAAWzF,OAAQxD,IAAK,CAC/C,IAAIkE,EAAYtE,KAAKqJ,WAAWjJ,GAIhC,GAAIkE,GAAa6E,GAAY7E,GAAa8E,GACtC9E,EAAY6E,GAAa7E,EAAY8E,EACvC,OAAO,IAWb3G,EAAqBT,UAAUmE,aAAe,WAC5C,OAAQnG,KAAKP,MAAQ6J,EAAa/G,EAAUvC,KAAKP,OAUnDgD,EAAqBT,UAAUgF,oBAAsB,SAASlE,GAC5D,OAAOwG,EAAatJ,KAAKP,MAAQ8C,EAAUO,IAS7CL,EAAqBT,UAAUqB,kBAAoB,WAC7Cb,EAAS+G,QAAQvJ,MAAQ,GAC3BwC,EAASc,KAAKtD,OASlByC,EAAqBT,UAAU8B,oBAAsB,WACnD,IAAI0F,EAAQhH,EAAS+G,QAAQvJ,OACf,GAAVwJ,GAAahH,EAASiH,OAAOD,EAAO,IA2L1CpH,OAAOK,qBAAuBA,EAC9BL,OAAOC,0BAA4BA,EAzqBnC,SAASA,EAA0BkB,GACjCvD,KAAKqH,KAAO9D,EAAM8D,KAClBrH,KAAK8C,OAASS,EAAMT,OACpB9C,KAAKyH,WAAalE,EAAMkE,WACxBzH,KAAKwH,mBAAqBjE,EAAMiE,mBAChCxH,KAAKkH,iBAAmB3D,EAAM2D,kBA+mBvB,CACLZ,IAAK,EACLC,OAAQ,EACRC,KAAM,EACNC,MAAO,EACPC,MAAO,EACPC,OAAQ,GApnBV3G,KAAK2H,iBAAmBpE,EAAM2D,iBAG9B,IAAIL,EAAa7G,KAAKwH,mBAClBkC,EAAa7C,EAAWH,MAAQG,EAAWF,OAC3CO,EAAmBlH,KAAKkH,iBACxByC,EAAmBzC,EAAiBR,MAAQQ,EAAiBP,OAM/D3G,KAAKsC,kBAHHoH,EAGuBE,QAAQD,EAAmBD,GAAYG,QAAQ,IAG/C7J,KAAK2H,eAAiB,EAAI,EAcvD,SAASlF,EAAqBqH,EAAUC,GAEtC,IA8dgBC,EAAIC,EAChBC,EA/dAC,EAAUJ,GAAe,GAE7B,GAAuB,mBAAZD,EACT,MAAM,IAAI1G,MAAM,+BAGlB,GAAI+G,EAAQ1K,MAAiC,GAAzB0K,EAAQ1K,KAAK0D,SAC/B,MAAM,IAAIC,MAAM,2BAIlBpD,KAAKyD,wBAmdWuG,EAldZhK,KAAKyD,uBAAuB7B,KAAK5B,MAkdjBiK,EAldwBjK,KAAK0C,iBAmd7CwH,EAAQ,KACL,WACAA,IACHA,EAAQE,YAAW,WACjBJ,IACAE,EAAQ,OACPD,MAtdPjK,KAAK4H,UAAYkC,EACjB9J,KAAK+C,oBAAsB,GAC3B/C,KAAKkE,eAAiB,GACtBlE,KAAKiJ,kBAAoBjJ,KAAK4E,iBAAiBuF,EAAQE,YAGvDrK,KAAKqJ,WAAarJ,KAAKoE,gBAAgB+F,EAAQ7F,WAC/CtE,KAAKP,KAAO0K,EAAQ1K,MAAQ,KAC5BO,KAAKqK,WAAarK,KAAKiJ,kBAAkBjE,KAAI,SAASC,GACpD,OAAOA,EAAO5D,MAAQ4D,EAAOI,QAC5BiF,KAAK,KA0dV,SAAS7E,EAAS8E,EAAMC,EAAOR,EAAIS,GACG,mBAAzBF,EAAKG,iBACdH,EAAKG,iBAAiBF,EAAOR,EAAIS,IAAkB,GAEjB,mBAApBF,EAAKI,aACnBJ,EAAKI,YAAY,KAAOH,EAAOR,GAanC,SAAS/D,EAAYsE,EAAMC,EAAOR,EAAIS,GACG,mBAA5BF,EAAKK,oBACdL,EAAKK,oBAAoBJ,EAAOR,EAAIS,IAAkB,GAEnB,mBAArBF,EAAKM,cACnBN,EAAKM,aAAa,KAAOL,EAAOR,GAoCpC,SAASlD,EAAsBgE,GAC7B,IAAI9B,EAEJ,IACEA,EAAO8B,EAAGhE,wBACV,MAAOiE,IAKT,OAAK/B,GAGCA,EAAKtC,OAASsC,EAAKrC,SACvBqC,EAAO,CACL1C,IAAK0C,EAAK1C,IACVG,MAAOuC,EAAKvC,MACZF,OAAQyC,EAAKzC,OACbC,KAAMwC,EAAKxC,KACXE,MAAOsC,EAAKvC,MAAQuC,EAAKxC,KACzBG,OAAQqC,EAAKzC,OAASyC,EAAK1C,MAGxB0C,GAUA,CACL1C,IAAK,EACLC,OAAQ,EACRC,KAAM,EACNC,MAAO,EACPC,MAAO,EACPC,OAAQ,GAWZ,SAAS2C,EAAarB,EAAQ+C,GAE5B,IADA,IAAIT,EAAOS,EACJT,GAAM,CACX,GAAIA,GAAQtC,EAAQ,OAAO,EAE3BsC,EAAOrC,EAAcqC,GAEvB,OAAO,EAUT,SAASrC,EAAcqC,GACrB,IAAItC,EAASsC,EAAKU,WAElB,OAAIhD,GAA6B,IAAnBA,EAAO9E,UAAkB8E,EAAOiD,KAErCjD,EAAOiD,KAGZjD,GAAUA,EAAOkD,aAEZlD,EAAOkD,aAAaF,WAGtBhD,GAptBT,I,gBCRA,OAAY,SAAS/G,EAAEkK,EAAEvJ,EAAEP,GAAG,SAAST,EAAET,EAAEiL,GAAG,IAAIxJ,EAAEzB,GAAG,CAAC,IAAIgL,EAAEhL,GAAG,CAA2C,IAAIiL,GAAxC,mBAAmBC,GAASA,EAAiB,OAAO,EAAElL,GAAE,GAAI,GAAGmL,EAAE,OAAOA,EAAEnL,GAAE,GAAI,IAAIsE,EAAE,IAAItB,MAAM,uBAAuBhD,EAAE,KAAK,MAAMsE,EAAE8G,KAAK,mBAAmB9G,EAAE,IAAIxC,EAAEL,EAAEzB,GAAG,CAACT,QAAQ,IAAIyL,EAAEhL,GAAG,GAAGG,KAAK2B,EAAEvC,SAAQ,SAASuB,GAAoB,OAAOL,EAAlBuK,EAAEhL,GAAG,GAAGc,IAAeA,KAAIgB,EAAEA,EAAEvC,QAAQuB,EAAEkK,EAAEvJ,EAAEP,GAAG,OAAOO,EAAEzB,GAAGT,QAAQ,IAAI,IAAI4L,EAAE,mBAAmBD,GAASA,EAAQlL,EAAE,EAAEA,EAAEkB,EAAEsC,OAAOxD,IAAIS,EAAES,EAAElB,IAAI,OAAOS,EAA7b,CAA4c,CAAC4K,EAAE,CAAC,SAASH,EAAQ1L,EAAOD,GACxeC,EAAOD,QAAU,WAEW,oBAAhB+L,cACRtJ,OAAOsJ,YAAcC,MAOvB,IAAIC,EAA2B,CAC7BC,aAAc,GAUhB,2BAAsD,SAAS/I,EAAQgJ,GACrE,IAAInK,EAAMmK,EAAoBC,KAAO,KAAOD,EAAoB3B,QAAQ6B,QAAU,IAAM,KACxF,QAC+B,IAA5BlJ,EAAOmJ,uBAC0B,IAAjCnJ,EAAOmJ,iBAAiBtK,GAGzB,IADA,IAAIqD,EAAMlC,EAAOmJ,iBAAiBtK,GAC1BvB,EAAI,EAAGA,EAAI4E,EAAIpB,OAAQxD,IAC7B,GAAG4E,EAAI5E,GAAG8L,WAAaJ,EAAoBI,SACzC,OAAOlH,EAAI5E,GAIjB,OAAO,MAQT,sBAAiD,SAAS0C,EAAQgJ,GAChE,IAAInK,EAAMmK,EAAoBC,KAAO,KAAOD,EAAoB3B,QAAQ6B,QAAU,IAAM,UAEzD,IAA5BlJ,EAAOmJ,mBACRnJ,EAAOmJ,iBAAmB,SAGQ,IAAjCnJ,EAAOmJ,iBAAiBtK,KACzBmB,EAAOmJ,iBAAiBtK,GAAO,IAGjCmB,EAAOmJ,iBAAiBtK,GAAK2B,KAAKwI,IAQpC,wBAAmD,SAAShJ,EAAQgJ,GAClE,IAAInK,EAAMmK,EAAoBC,KAAO,KAAOD,EAAoB3B,QAAQ6B,QAAU,IAAM,KACxF,QACgC,IAA7BlJ,EAAOmJ,uBAC0B,IAAjCnJ,EAAOmJ,iBAAiBtK,GACzB,CAEA,IADA,IAAIqD,EAAMlC,EAAOmJ,iBAAiBtK,GAC1BvB,EAAI,EAAGA,EAAI4E,EAAIpB,OAAQxD,IAC1B4E,EAAI5E,GAAG8L,WAAaJ,EAAoBI,UACzClH,EAAIyE,OAAOrJ,EAAG,GAIA,IAAf4E,EAAIpB,eACEd,EAAOmJ,iBAAiBtK,KAOrC,0BAAqD,SAASuK,GAC5D,MAAwB,mBAAbA,GAAR,MAAqCA,EAC/BA,EACsB,iBAAbA,GAA2D,mBAAzBA,EAASC,YACpDD,EAASC,YAGT,SAAS3B,GACd0B,EAAS1B,KAKf,yBAAoD,SAASL,GAC3D,cAAcA,GACZ,IAAK,UACHA,EAAU,CAAE6B,QAAS7B,GACrB,MACF,IAAK,YACHA,EAAU,CAAE6B,SAAS,GACrB,MACF,IAAK,SACa,OAAZ7B,IACFA,EAAU,CAAE6B,SAAS,IAEvB,MACF,QACE,MAAM,IAAI5I,MAAM,iDAOpB,OAJA+G,EAAQiC,KAAYC,QAAQlC,EAAQiC,MACpCjC,EAAQmC,QAAYD,QAAQlC,EAAQmC,SACpCnC,EAAQ6B,QAAYK,QAAQlC,EAAQ6B,SAE7B7B,GAGT,2BAAsD,SAAS4B,EAAMG,EAAU/B,GAC7E,MAAO,CACL4B,KAAMA,EACNG,SAAUlM,KAAKuM,0BAA0BL,GACzC/B,QAASnK,KAAKwM,yBAAyBrC,KAM3C,UAAqC,SAASrH,EAAQ+I,GAGpD,IADA,IAAIY,EAAc,KACTrM,EAAI,EAAGA,EAAIJ,KAAK6L,aAAajI,OAAQxD,IACzCJ,KAAK6L,aAAazL,GAAG0C,SAAWA,IACjC2J,EAAczM,KAAK6L,aAAazL,IAKhB,OAAhBqM,GACFA,EAAc,CAAE3J,OAAQA,EAAQ+I,aAAc,CAACA,IAC/C7L,KAAK6L,aAAavI,KAAKmJ,GAEvBzM,KAAK0M,0BAA0B5J,EAAQ2J,GACvCzM,KAAK2M,6BAA6B7J,EAAQ2J,IAE1CA,EAAYZ,aAAavI,KAAKuI,IAWlC,0BAAqD,SAAS/I,EAAQ2J,GACpE,IAAIG,EAAQ5M,KAER0K,EAAmB5H,EAAOd,UAAU0I,iBAqCxC,OApCA5H,EAAOd,UAAU0I,iBAAmB,SAASqB,EAAMG,EAAU/B,GAC3D,IAAI2B,EAAsBc,EAAMC,2BAA2Bd,EAAMG,EAAU/B,GAG3E,IAF8ByC,EAAME,2BAA2B9M,KAAM8L,GAEvC,CAE5BA,EAAoBiB,WAAa,CAC/BhB,KAAMD,EAAoBC,KAC1BG,SAAUJ,EAAoBI,SAC9B/B,QAAS,CACP6B,QAASF,EAAoB3B,QAAQ6B,QACrCI,KAAMN,EAAoB3B,QAAQiC,KAClCE,QAASR,EAAoB3B,QAAQmC,UAIzC,IAAK,IAAIlM,EAAI,EAAGA,EAAIqM,EAAYZ,aAAajI,OAAQxD,IAAK,CACxD,IAAIyL,EAAeY,EAAYZ,aAAazL,GACZ,mBAArByL,EAAamB,KACtBnB,EAAamB,IAAIlB,GAMrBc,EAAMK,sBAAsBjN,KAAM8L,GAElCpB,EAAiBnK,KACfP,KACA8L,EAAoBiB,WAAWhB,KAC/BD,EAAoBiB,WAAWb,SAC/BJ,EAAoBiB,WAAW5C,WAK9B,WACLrH,EAAOd,UAAU0I,iBAAmBA,IAIxC,6BAAwD,SAAS5H,EAAQ2J,GACvE,IAAIG,EAAQ5M,KAER4K,EAAsB9H,EAAOd,UAAU4I,oBAkB3C,OAjBA9H,EAAOd,UAAU4I,oBAAsB,SAASmB,EAAMG,EAAU/B,GAC9D,IAAI2B,EAAsBc,EAAMC,2BAA2Bd,EAAMG,EAAU/B,GACvE+C,EAA0BN,EAAME,2BAA2B9M,KAAM8L,GAEjEoB,GACFN,EAAMO,wBAAwBnN,KAAM8L,GACpClB,EAAoBrK,KAClBP,KACAkN,EAAwBH,WAAWhB,KACnCmB,EAAwBH,WAAWb,SACnCgB,EAAwBH,WAAW5C,UAGrCS,EAAoBrK,KAAKP,KAAM+L,EAAMG,EAAU/B,IAI5C,WACLrH,EAAOd,UAAU4I,oBAAsBA,IAI3C,aAAwC,SAASiB,GAC/C7L,KAAKoN,UAAU1B,YAAaG,GACvBzJ,kBAAkBsJ,aACrB1L,KAAKoN,UAAUC,OAAQxB,IAI3B,WAAsC,WACpC,IAAI,IAAIzL,EAAI,EAAGC,EAAIL,KAAK6L,aAAajI,OAAQxD,EAAIC,EAAGD,IAClDJ,KAAK6L,gBAKT,MAAiC,SAASyB,GAExCC,QAAQD,MAAMA,KAGhB,OAAO1B,EAvPQ,IA0Pf,IAAI4B,EAAE,CAAC,SAASlC,EAAQ1L,EAAOD,GACjC,IAAUiM,KAuGPN,EAAQ,kCAlGgBmC,mBAAqB,SAAS3K,EAAQiJ,GAC7D,MAAS,KAAOA,KAASjJ,GAG3B8I,EAAyB8B,2BAA6B,SAAS5K,EAAQiJ,GACrE,OAAOH,EAAyB6B,mBAAmB3K,EAAQiJ,IAAW,UAAWjJ,QAA2C,IAA/BA,EAAO6K,MAAkB,YAGxH/B,EAAyBgC,2BAA6B,SAAS9K,EAAQiJ,GACrE,QAAGH,EAAyB6B,mBAAmB3K,EAAQiJ,KAGlD,MAAM8B,KAAK9B,EAAK+B,eACV,wBAAyBvL,SAAS+F,KACjC,OAAOuF,KAAK9B,GACb,yBAA0BxJ,SAAS+F,OAClC,UAAUuF,KAAK9B,IAChB,4BAA6BxJ,SAAS+F,OAQnDsD,EAAyBmC,mBAAqB,WAC5C,IAAInB,EAAQ5M,KAEZA,KAAKgO,WAAa,GAClBhO,KAAKiO,eAAiB,CAAC,GAAI,SAAU,MAAO,KAAM,KAGlDjO,KAAKgO,WAAkB,MAAI,CAAC,QAAS,aAAc,kBAAkBhJ,KAAI,SAAS+G,GAChF,MAAO,CAAEA,KAAMA,EAAMmC,YAAatB,EAAMa,uBAG1CzN,KAAKgO,WAA6B,iBAAI,CAAC,mBAAoB,sBAAuB,yBAA0B,qBAAsB,sBAAsBhJ,KAAI,SAAS+G,GACnK,MAAO,CAAEA,KAAMA,EAAMmC,YAAatB,EAAMgB,+BAG1C5N,KAAKgO,WAA4B,gBAAI,CAAC,kBAAmB,qBAAsB,wBAAyB,oBAAqB,qBAAqBhJ,KAAI,SAAS+G,GAC7J,MAAO,CAAEA,KAAMA,EAAMmC,YAAatB,EAAMgB,+BAG1C,CACE,oBAAqB,mBACrB,iBAAkB,qBAAsB,eACxC,gBAAiB,cAAe,eAAgB,cAAe,aAAc,cAAe,aAC5FhH,SAAQ,SAASmF,GACjBa,EAAMoB,WAAWjC,GAAQa,EAAMqB,eAC5BjJ,KAAI,SAASmJ,GACZ,MAAO,CAAEpC,KAAOoC,EAASpC,EAAOmC,YAAatB,EAAMa,0BAIzD,CAAC,kBAAmB,gBAAiB,iBAAiB7G,SAAQ,SAASmF,GACrEa,EAAMoB,WAAWjC,GAAQa,EAAMqB,eAC5BjJ,KAAI,SAASmJ,GACZ,MAAO,CAAEpC,KAAOoC,EAASpC,EAAOmC,YAAatB,EAAMc,mCAK3D9B,EAAyBwC,sBAAwB,SAAStL,EAAQiJ,GAChE,IAAIsC,EAAQrO,KAAKgO,WAAWjC,GAC5B,QAAa,IAAVsC,EACD,OAAOtC,EAGP,IADA,IAAIuC,EACIlO,EAAI,EAAGA,EAAIiO,EAAMzK,OAAQxD,IAE/B,IADAkO,EAAQD,EAAMjO,IACL8N,YAAYpL,EAAQwL,EAAMvC,MAEjC,OAAOuC,EAAMvC,KAKjB,OAAOA,GAKXH,EAAyB2C,2BAA6B,WACpDvO,KAAK+N,qBAEL,IAAInB,EAAQ5M,KAEZA,KAAKwO,aAAa,CAChBxB,IAAK,SAASlB,GACZA,EAAoBiB,WAAWhB,KAAOa,EAAMwB,sBAAsBpO,KAAM8L,EAAoBiB,WAAWhB,UAM7GH,EAAyB2C,8BAGzB,CAAC,gCAAgC,IAAIE,EAAE,CAAC,SAASnD,EAAQ1L,EAAOD,GAClE,IAAUiM,KAyFPN,EAAQ,kCApFgBoD,uBAAyB,WAChD,IAAI9B,EAAQ5M,KAEZA,KAAK2O,iBAAmB,CACtBvC,MAAM,EACNE,SAAS,EACTN,SAAS,EAET4C,KAAK,EACL5L,MAAM,GAGRT,SAASsM,yBAAyBnE,iBAAiB,QAAQ,cAAe,CACxE,WAEE,OADAkC,EAAM+B,iBAAiBvC,MAAO,GACvB,GAET,cAEE,OADAQ,EAAM+B,iBAAiBrC,SAAU,GAC1B,GAET,cAEE,OADAM,EAAM+B,iBAAiB3C,SAAU,GAC1B,KAKXhM,KAAK2O,iBAAiBC,IAAO5O,KAAK2O,iBAAiBvC,MAAQpM,KAAK2O,iBAAiBrC,SAAWtM,KAAK2O,iBAAiB3C,QAClHhM,KAAK2O,iBAAiB3L,KAAOhD,KAAK2O,iBAAiBvC,MAAQpM,KAAK2O,iBAAiBrC,SAAWtM,KAAK2O,iBAAiB3C,SAGpHJ,EAAyBkD,wBAA0B,WAEjD,GADA9O,KAAK0O,0BACA1O,KAAK2O,iBAAiBC,IAAK,CAC9B,IAAIhC,EAAQ5M,KAEZA,KAAKwO,aAAa,CAChBxB,IAAK,SAASlB,GAGZ,IAAIM,EAAON,EAAoB3B,QAAQiC,OAASQ,EAAM+B,iBAAiBvC,KACnEE,EAAUR,EAAoB3B,QAAQmC,UAAYM,EAAM+B,iBAAiBrC,QAE7E,GAAIF,GAAQE,EAAS,CACnB,IAAIJ,EAAWJ,EAAoBiB,WAAWb,SAE9CJ,EAAoBiB,WAAWb,SAAW,SAAS1B,GAWjD,OAVG4B,GACDpM,KAAK4K,oBAAoBkB,EAAoBC,KAAMD,EAAoBI,SAAUJ,EAAoB3B,SAGpGmC,IACD9B,EAAMuE,eAAiB,WACrB,MAAM,IAAI3L,MAAM,wEAIb8I,EAAS3L,KAAKP,KAAMwK,IAI1BoC,EAAM+B,iBAAiB3L,OAC1B8I,EAAoBiB,WAAW5C,QAAU2B,EAAoB3B,QAAQ6B,cAQ/EJ,EAAyBkD,2BAczB,CAAC,gCAAgC,IAAIE,EAAE,CAAC,SAAS1D,EAAQ1L,EAAOD,GAClEC,EAAOD,QACE,SAA4B6K,EAAO1H,GACxC,GAAuB,iBAAXA,GAAoC,OAAXA,EAAkB,CACrD,IACIf,EADAkN,EAAQnO,OAAOoO,eAAepM,GAGlC,IAAKf,KAAYkN,EACf,KAAMlN,KAAYyI,GAAQ,CACxB,IAAI2E,EAAarO,OAAOsO,yBAAyBH,EAAOlN,GACpDoN,GACFrO,OAAOC,eAAeyJ,EAAOzI,EAAUoN,GAK7C,IAAKpN,KAAYe,EACTf,KAAYyI,IAChBA,EAAMzI,GAAYe,EAAOf,OAOjC,IAAIsN,EAAE,CAAC,SAAS/D,EAAQ1L,EAAOD,IACjC,SAAU2P,GAIR,IACc,IAAIlN,OAAOmN,YAAY,QAAS,CAAEC,SAAS,EAAMC,YAAY,IACzE,MAAOnC,GACP,IAAIoC,EAAsBtN,OAAOmN,aAAenN,OAAOuN,MACnDJ,EAAc,SAASK,EAAWC,GACpCA,EAASA,GAAU,GACnB,IAAIrF,EAAQjI,SAASuN,YAAY,eAQjC,OAPAtF,EAAMuF,gBACJH,OACoB,IAAnBC,EAAOL,SAA8BK,EAAOL,aACtB,IAAtBK,EAAOJ,YAAiCI,EAAOJ,gBAC7B,IAAlBI,EAAOG,OAAqB,GAAKH,EAAOG,QAE3CV,EAAmB9E,EAAOxK,MACnBwK,GAET+E,EAAYvN,UAAY0N,EAAoB1N,UAC5CI,OAAOmN,YAAcA,GArBzB,CAuBGjE,EAAQ,6BACT,CAAC,0BAA0B,IAAI2E,EAAE,CAAC,SAAS3E,EAAQ1L,EAAOD,IAC5D,SAAU2P,GAMR,IACc,IAAIlN,OAAOuN,MAAM,QAAS,CAAEH,SAAS,EAAMC,YAAY,IACnE,MAAMnC,GACN,IAAI4C,EAAgB9N,OAAOuN,MACvBA,EAAQ,SAASC,EAAWC,GAC9BA,EAASA,GAAU,GACnB,IAAIrF,EAAQjI,SAASuN,YAAY,SAQjC,OAPAtF,EAAM2F,UACJP,OACoB,IAAnBC,EAAOL,SAA8BK,EAAOL,aACtB,IAAtBK,EAAOJ,YAAiCI,EAAOJ,gBAC7B,IAAlBI,EAAOG,OAAqB,GAAKH,EAAOG,QAE3CV,EAAmB9E,EAAOxK,MACnBwK,GAETmF,EAAM3N,UAAYkO,EAAclO,UAChCI,OAAOuN,MAAQA,GAvBnB,CAyBGrE,EAAQ,6BACT,CAAC,0BAA0B,IAAI8E,EAAE,CAAC,SAAS9E,EAAQ1L,EAAOD,IAC5D,SAAU2P,GAKR,IACc,IAAIlN,OAAOiO,WAAW,QAAS,CAAEb,SAAS,EAAMC,YAAY,IACxE,MAAOnC,GACP,IAAIgD,EAAqBlO,OAAOiO,YAAcjO,OAAOuN,MACjDU,EAAa,SAAST,EAAWC,GACnCA,EAASA,GAAU,GACnB,IAAIrF,EAAQjI,SAASuN,YAAY,cAcjC,OAXAtF,EAAM+F,eACJX,OACoB,IAAnBC,EAAOL,SAA8BK,EAAOL,aACtB,IAAtBK,EAAOJ,YAAiCI,EAAOJ,gBAC/B,IAAhBI,EAAOW,KAAmBpO,OAASyN,EAAOW,UACxB,IAAlBX,EAAOG,OAAqB,GAAKH,EAAOG,YACf,IAAzBH,EAAOY,cAA4B,KAAOZ,EAAOY,eAGpDnB,EAAmB9E,EAAOxK,MAEnBwK,GAET6F,EAAWrO,UAAYsO,EAAmBtO,UAC1CI,OAAOiO,WAAaA,GA5BxB,CA8BG/E,EAAQ,6BACT,CAAC,0BAA0B,IAAIoF,EAAE,CAAC,SAASpF,EAAQ1L,EAAOD,IAC5D,SAAU2P,GAiBR,IACc,IAAIlN,OAAOuO,cAAc,QAAS,CAAEnB,SAAS,EAAMC,YAAY,IAC3E,MAAOnC,GACP,IAAIsD,EAAwBxO,OAAOuO,eAAiBvO,OAAOuN,MACvDgB,EAAgB,SAASf,EAAWC,GACtCA,EAASA,GAAU,GACnB,IAAIrF,EAAQjI,SAASuN,YAAY,iBA0BjC,OAvBAtF,EAAMqG,kBACJjB,OACoB,IAAnBC,EAAOL,SAA8BK,EAAOL,aACtB,IAAtBK,EAAOJ,YAAiCI,EAAOJ,gBAC/B,IAAhBI,EAAOW,KAAmBpO,OAASyN,EAAOW,UAC3B,IAAfX,EAAOlO,IAAkB,GAAKkO,EAAOlO,SACjB,IAApBkO,EAAOiB,SAAuB,EAAIjB,EAAOiB,WACrB,IAAnBjB,EAAOkB,QAAoB,WAAa,MACtB,IAAlBlB,EAAOmB,OAAmB,OAAS,MACf,IAApBnB,EAAOoB,SAAqB,SAAW,MACpB,IAAnBpB,EAAOqB,QAAoB,QAAU,SACpB,IAAlBrB,EAAOsB,QAA6BtB,EAAOsB,YACzB,IAAlBtB,EAAOuB,OAAqBC,UAAUC,SAAWzB,EAAOuB,QAG3D5G,EAAM+G,aAAgC,IAAnB1B,EAAO0B,QAAsB,EAAI1B,EAAO0B,QAC3D/G,EAAMgB,UAA6B,IAAhBqE,EAAOrE,KAAmB,GAAKqE,EAAOrE,KACzDhB,EAAMgH,cAAiC,IAApB3B,EAAO2B,SAAuB,EAAI3B,EAAO2B,SAC5DhH,EAAMiH,UAAiC,IAApB5B,EAAO2B,SAAuB,GAAK3B,EAAO2B,SAC7DhH,EAAMkH,WAA8B,IAAjB7B,EAAO6B,MAAoB,EAAI7B,EAAO6B,MAEzDpC,EAAmB9E,EAAOxK,MAEnBwK,GAETmG,EAAc3O,UAAY4O,EAAsB5O,UAChDI,OAAOuO,cAAgBA,GApD3B,CAuDGrF,EAAQ,6BACT,CAAC,0BAA0B,IAAIqG,EAAE,CAAC,SAASrG,EAAQ1L,EAAOD,IAC5D,SAAU2P,GAeR,IACc,IAAIlN,OAAOwP,WAAW,QAAS,CAAEpC,SAAS,EAAMC,YAAY,IACxE,MAAOnC,GACP,IAAIuE,EAAqBzP,OAAOwP,YAAcxP,OAAOuN,MACjDiC,EAAa,SAAShC,EAAWC,GACnCA,EAASA,GAAU,GACnB,IAAIrF,EAAQjI,SAASuN,YAAY,cA0BjC,OAvBAtF,EAAMsH,eACJlC,OACoB,IAAnBC,EAAOL,SAA8BK,EAAOL,aACtB,IAAtBK,EAAOJ,YAAiCI,EAAOJ,gBAC/B,IAAhBI,EAAOW,KAAmBpO,OAASyN,EAAOW,UACxB,IAAlBX,EAAOG,OAAqB,EAAIH,EAAOG,YACpB,IAAnBH,EAAOkC,QAAsB,EAAIlC,EAAOkC,aACrB,IAAnBlC,EAAOmC,QAAsB,EAAInC,EAAOmC,aACrB,IAAnBnC,EAAOoC,QAAsB,EAAIpC,EAAOoC,aACrB,IAAnBpC,EAAOqC,QAAsB,EAAIrC,EAAOqC,aACrB,IAAnBrC,EAAOkB,SAA8BlB,EAAOkB,aAC1B,IAAlBlB,EAAOmB,QAA6BnB,EAAOmB,YACvB,IAApBnB,EAAOoB,UAA+BpB,EAAOoB,cAC1B,IAAnBpB,EAAOqB,SAA8BrB,EAAOqB,aAC1B,IAAlBrB,EAAOsC,OAAqB,EAAItC,EAAOsC,YACd,IAAzBtC,EAAOY,cAA4B,KAAOZ,EAAOY,eAGpDjG,EAAM4H,aAA8B,IAAnBvC,EAAOuC,QAAsB,EAAIvC,EAAOuC,QACzD5H,EAAM6H,YAA6B,IAAlBxC,EAAOwC,OAAqB,KAAOxC,EAAOwC,OAE3D/C,EAAmB9E,EAAOxK,MAEnBwK,GAEToH,EAAW5P,UAAY6P,EAAmB7P,UAC1CI,OAAOwP,WAAaA,GAlDxB,CAoDGtG,EAAQ,6BACT,CAAC,0BAA0B,IAAIgH,GAAG,CAAC,SAAShH,EAAQ1L,EAAOD,IAC7D,SAAU2P,GAcR,IACc,IAAIlN,OAAOmQ,aAAa,QAAS,CAAE/C,SAAS,EAAMC,YAAY,IAC1E,MAAOnC,GACP,IAAIkF,EAAuBpQ,OAAOmQ,cAAgBnQ,OAAOuN,MACrD4C,EAAe,SAAS3C,EAAWC,GACrCA,EAASA,GAAU,GACnB,IAAIrF,EAAQjI,SAASuN,YAAY,gBAsCjC,OAnCAtF,EAAMiI,iBACJ7C,OACoB,IAAnBC,EAAOL,SAA8BK,EAAOL,aACtB,IAAtBK,EAAOJ,YAAiCI,EAAOJ,gBAC/B,IAAhBI,EAAOW,KAAmBpO,OAASyN,EAAOW,UACxB,IAAlBX,EAAOG,OAAqB,EAAIH,EAAOG,YACpB,IAAnBH,EAAOkC,QAAsB,EAAIlC,EAAOkC,aACrB,IAAnBlC,EAAOmC,QAAsB,EAAInC,EAAOmC,aACrB,IAAnBnC,EAAOoC,QAAsB,EAAIpC,EAAOoC,aACrB,IAAnBpC,EAAOqC,QAAsB,EAAIrC,EAAOqC,aACrB,IAAnBrC,EAAOkB,SAA8BlB,EAAOkB,aAC1B,IAAlBlB,EAAOmB,QAA6BnB,EAAOmB,YACvB,IAApBnB,EAAOoB,UAA+BpB,EAAOoB,cAC1B,IAAnBpB,EAAOqB,SAA8BrB,EAAOqB,aAC1B,IAAlBrB,EAAOsC,OAAqB,EAAItC,EAAOsC,YACd,IAAzBtC,EAAOY,cAA4B,KAAOZ,EAAOY,mBAE7B,IAApBZ,EAAO6C,QAAuB,EAAI7C,EAAO6C,aACrB,IAApB7C,EAAO8C,QAAuB,EAAI9C,EAAO8C,aACxB,IAAjB9C,EAAOnJ,MAAoB,EAAImJ,EAAOnJ,WACpB,IAAlBmJ,EAAOlJ,OAAqB,EAAIkJ,EAAOlJ,YACnB,IAApBkJ,EAAO+C,SAAuB,EAAI/C,EAAO+C,cACxB,IAAjB/C,EAAOgD,MAAoB,EAAIhD,EAAOgD,WACrB,IAAjBhD,EAAOiD,MAAoB,EAAIjD,EAAOiD,WACrB,IAAjBjD,EAAOkD,MAAoB,EAAIlD,EAAOkD,WACjB,IAArBlD,EAAOmD,UAAwB,EAAInD,EAAOmD,eACnB,IAAvBnD,EAAOoD,YAA0B,GAAKpD,EAAOoD,iBACtB,IAAvBpD,EAAOqD,YAA0B,EAAIrD,EAAOqD,iBACvB,IAArBrD,EAAOsD,WAAgCtD,EAAOsD,WAGjD3I,EAAM4I,wBAAoD,IAA9BvD,EAAOuD,mBAAiC,EAAIvD,EAAOuD,mBAE/E9D,EAAmB9E,EAAOxK,MAEnBwK,GAGT+H,EAAavQ,UAAYwQ,EAAqBxQ,UAE9C,IAAIqR,EAAqBvS,OAAOsO,yBAAyBmD,EAAavQ,UAAW,YAC7EqR,GACFvS,OAAOC,eAAewR,EAAavQ,UAAW,QAASqR,GAGzDjR,OAAOmQ,aAAeA,GApE1B,CAsEGjH,EAAQ,6BACT,CAAC,0BAA0B,IAAIgI,GAAG,CAAC,SAAShI,EAAQ1L,EAAOD,GAC7D2L,EAAQ,cACRA,EAAQ,oBACRA,EAAQ,mBACRA,EAAQ,sBACRA,EAAQ,mBACRA,EAAQ,sBACN,CAAC,mBAAmB,EAAE,aAAa,EAAE,kBAAkB,EAAE,qBAAqB,EAAE,kBAAkB,EAAE,oBAAoB,KAAKiI,GAAG,CAAC,SAASjI,EAAQ1L,EAAOD,GAC3J2L,EAAQ,2BACRA,EAAQ,wBACRA,EAAQ,4BAEN,CAAC,0BAA0B,EAAE,uBAAuB,EAAE,0BAA0B,MAAM,GAAG,CAAC,M,8CC1uBrF,SAASkI,EAASvQ,GACvB,OAAQA,GAAwB,iBAATA,IAAsBsB,MAAMC,QAAQvB,GC+G9C,OAACwQ,WA3GT,SAAoBC,EAAeC,EAAYC,EAAYC,GAChE,IAAIC,EAAcD,EAAYE,QAAQC,iBAClCC,EAAkBJ,EAAYE,QAAQG,qBACtCC,EAAeN,EAAYE,QAAQK,kBACnCC,EAAsBR,EAAYE,QAAQO,yBAE1CC,EAAmBV,EAAYE,QAAQS,sBACvCC,EAAmBZ,EAAYE,QAAQW,sBAG3ChB,EAAc9M,SAAQ,SAAU+N,GAC9BA,EAASC,aAAad,EAAaG,GACnCU,EAASC,aAAaT,EAAcE,MAGtCV,EAAW/M,SAAQ,SAAUiO,GAC3BA,EAAOD,aAAaT,EAAcM,MAGpCb,EAAWhN,SAAQ,SAAUkO,GAC3BA,EAAOF,aAAaT,EAAcI,OAuFVQ,aAhFrB,SAAsBrB,EAAeC,EAAYC,EAAYC,GAClE,IAAIC,EAAcD,EAAYE,QAAQC,iBAClCgB,EAAmBnB,EAAYE,QAAQkB,sBACvChB,EAAkBJ,EAAYE,QAAQG,qBAEtCC,EAAeN,EAAYE,QAAQK,kBACnCC,EAAsBR,EAAYE,QAAQO,yBAI9CZ,EAAc9M,SAAQ,SAAU+N,GAC9BA,EAASC,aAAad,EAAakB,MAGrCrB,EAAW/M,SAAQ,SAAUiO,GACvBA,EAAOK,aAAapB,KAAiBG,GACvCY,EAAOD,aAAaT,EAAcE,MAItCT,EAAWhN,SAAQ,SAAUkO,GACvBA,EAAOI,aAAapB,KAAiBG,GACvCa,EAAOF,aAAaT,EAAcE,OA0DEc,aApDnC,SAAsBzB,EAAe0B,EAAQvB,GAClD,IAAIwB,EAAWxB,EAAYE,QAAQuB,mBAEnC5B,EAAc9M,SAAQ,SAAU+N,GAC9BA,EAASC,aAAaS,EAAUD,OAgDoBG,YA1CjD,SAAqB5B,EAAYC,EAAYC,GAClD,IAAIM,EAAeN,EAAYE,QAAQK,kBACnCG,EAAmBV,EAAYE,QAAQS,sBACvCC,EAAmBZ,EAAYE,QAAQW,sBAE3Cd,EAAWhN,SAAQ,SAAUkO,GAC3BA,EAAOF,aAAaT,EAAcI,MAGpCZ,EAAW/M,SAAQ,SAAUiO,GAC3BA,EAAOD,aAAaT,EAAcM,OAgC+Be,gBA1BrE,SAAyBC,GACvB,IAAIC,EAAcD,EAAKE,QACnBC,EAAW,GACf,KAAOH,EAAOA,EAAKI,aACbJ,EAAKE,UAAYD,GACrBE,EAAStS,KAAKmS,GAEhB,OAAOG,GAmB6EE,oBAftF,SAA6BL,GAC3B,IAAIC,EAAcD,EAAKE,QACnBC,EAAW,GACf,KAAOH,EAAOA,EAAKM,iBACbN,EAAKE,UAAYD,GACrBE,EAAStS,KAAKmS,GAEhB,OAAOG,ICxFMI,UCZR,MAKLC,YAAYC,GACV,IAAIC,EAAWnW,KAAKoW,0BAA0BF,EAAelW,MAE7DA,KAAKqW,eAAiBF,EAASE,eAC/BrW,KAAK+T,QAAUoC,EAASpC,QACxB/T,KAAKsW,UAAYH,EAASG,UAC1BtW,KAAKuW,aAAc,EACnBvW,KAAKwW,iBAAkB,EAGzBJ,0BAA0BF,EAAenW,GAuEvC,OCxFG,SAAS0W,EAAU3T,KAAW4T,GACnC,IAAKA,EAAQ9S,OAAQ,OAAOd,EAC5B,MAAM6T,EAASD,EAAQE,QAEvB,GAAIpD,EAAS1Q,IAAW0Q,EAASmD,GAC/B,IAAK,MAAMhV,KAAOgV,EACZnD,EAASmD,EAAOhV,KACbmB,EAAOnB,IAAMb,OAAO+V,OAAO/T,EAAQ,CAAE,CAACnB,GAAM,KACjD8U,EAAU3T,EAAOnB,GAAMgV,EAAOhV,KAE9Bb,OAAO+V,OAAO/T,EAAQ,CAAE,CAACnB,GAAMgV,EAAOhV,KAK5C,OAAO8U,EAAU3T,KAAW4T,GDwEXD,CAnEE,CACfJ,eAAgB,qBAEhBtC,QAAS,CACP+C,gBAAiB,kBACjB9C,iBAAkB,mBAClBE,qBAAsB,OAEtB6C,oBAAqB,cACrBC,uBAAwB,iBACxBC,sBAAuB,gBACvBC,yBAA0B,mBAE1BjC,sBAAuB,QACvBK,mBAAoB,qBACpBlB,kBAAmB,oBACnBE,yBAA0B,UAC1BI,sBAAuB,OACvBF,sBAAuB,OACvB2C,eAAgB,eAElBb,UAAW,CACT7C,WAAWC,EAAeC,EAAYC,GACpCwD,EAAa3D,WAAWC,EAAeC,EAAYC,EAAY7T,IAEjEgV,aAAarB,EAAeC,EAAYC,GACtCwD,EAAarC,aAAarB,EAAeC,EAAYC,EAAY7T,IAEnEoV,aAAazB,EAAe0B,GAC1BgC,EAAajC,aAAazB,EAAe0B,EAAQrV,IAGnDwV,YAAY5B,EAAYC,GACtBwD,EAAa7B,YAAY5B,EAAYC,EAAY7T,IAGnDsX,eAAe9T,GACb,IAAI+T,EAAc,IAAI/H,YAAY,SAAU,CAC1CC,SAAS,EACTC,YAAY,EACZO,OAAQ,CACNuH,SAAUhU,KAIdhB,SAASiV,cAAcF,IAGzBG,cAAclU,GACZ,IAAImU,EAAa,IAAInI,YAAY,QAAS,CACxCC,SAAS,EACTC,YAAY,EACZO,OAAQ,CACNuH,SAAUhU,KAIdhB,SAASiV,cAAcE,KAK3BC,aAAc,GACdC,aAAc,IAImB1B,GASrC2B,OAEE7X,KAAK8X,sBAKL9X,KAAKuW,aAAc,EAGrBwB,iBAAiBjN,GACf,IACIkN,EAAelN,EAAGoK,aADJlV,KAC6B+T,QAAQ+C,iBAEvD,IAAmC,IAA/BkB,EAAazO,QAAQ,KAAa,CAEpC,IAAI0O,EAAK,MACSD,EAAajT,MAAMkT,GAEzBrR,SAAQ,SAAUsR,GAC5B,IAAIC,EAAa5V,SAAS6V,iBAAiBF,GAC3CC,EAAWvR,SAAQ,SAAUyR,GAC3BvN,EAAG6M,aAAeP,EAAa5B,gBAAgB6C,GAC/CvN,EAAG8M,aAAeR,EAAatB,oBAAoBuC,MAGrDvN,EAAGwN,UAAYH,SAEZ,CACL,IAAIA,EAAa5V,SAAS6V,iBAAiBJ,GAC3CG,EAAWvR,SAAQ,SAAUyR,GAC3BvN,EAAG6M,aAAeP,EAAa5B,gBAAgB6C,GAC/CvN,EAAG8M,aAAeR,EAAatB,oBAAoBuC,MAErDvN,EAAGwN,UAAYH,GAKnBL,sBACE,IAAIS,EAAWhW,SAAS6V,iBAAiBpY,KAAKqW,gBAO9C,IAAImC,EAEJA,EAAW,IAAI/V,qBAAqBgW,IAClCA,EAAQ7R,QAAQrD,IACdgK,QAAQmL,IAAInV,EAAMT,OAAOwV,WACzBtY,KAAK2Y,aAAapV,GAClBvD,KAAK4Y,cAAcrV,MAZR,CACb9D,KAAM,KACN4K,WAAY,MACZ/F,UAAW,CAAC,KAadiU,EAAS3R,QAAQ1D,IACflD,KAAK+X,iBAAiB7U,GACtBsV,EAAS3V,QAAQK,KAIrByV,aAAapV,GACX,IAA6B,IAAzBA,EAAMoE,eAAyB,CACjC,IAAI5H,EAAOC,KACP0T,EAAgBnQ,EAAMT,OAAOwV,UAC7B1E,EAAarQ,EAAMT,OAAO6U,aAC1BhE,EAAapQ,EAAMT,OAAO8U,aAG1BiB,EAAOtV,EAAMiE,mBAAmBlB,IAEhCoR,EAAa,IAAInI,YAAY,QAAS,CACxCC,SAAS,EACTC,YAAY,EACZO,OAAQ,CACNuH,SAAUhU,KAGdhB,SAASiV,cAAcE,GAGvB1X,KAAKsW,UAAU7C,WAAWC,EAAeC,EAAYC,GAIjDiF,EAAO,EAIT7Y,KAAKsW,UAAUnB,aAAazB,EAAe3T,EAAKgU,QAAQgD,qBAIxD/W,KAAKsW,UAAUnB,aAAazB,EAAe3T,EAAKgU,QAAQiD,yBAK9D4B,cAAcrV,GACZ,IAA6B,IAAzBA,EAAMoE,eAA0B,CAClC,IAAI5H,EAAOC,KACP0T,EAAgBnQ,EAAMT,OAAOwV,UAC7B1E,EAAarQ,EAAMT,OAAO6U,aAC1BhE,EAAapQ,EAAMT,OAAO8U,aAG9B5X,KAAKsW,UAAUvB,aAAarB,EAAeC,EAAYC,GAGvD,IAAIiF,EAAOtV,EAAMiE,mBAAmBlB,IAEhCgR,EAAc,IAAI/H,YAAY,SAAU,CAC1CC,SAAS,EACTC,YAAY,EACZO,OAAQ,CACNuH,SAAUhU,KAGdhB,SAASiV,cAAcF,GAGnBuB,EAAO,EAET7Y,KAAKsW,UAAUnB,aAAazB,EAAe3T,EAAKgU,QAAQkD,uBAGxDjX,KAAKsW,UAAUnB,aAAazB,EAAe3T,EAAKgU,QAAQmD,2BAM9D4B,gBAAgBC,GACd,IAAIhZ,EAAOC,KAUX,OAR6B,IAAzBD,EAAKyW,iBACPpM,YAAW,WACT7H,SAASmI,iBAAiB,UAAU,WAElC,OADA3K,EAAKyW,iBAAkB,GAChB,IACN,CAACpK,MAAM,MACT,MAEE,O","file":"iou.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Iou\"] = factory();\n\telse\n\t\troot[\"Iou\"] = factory();\n})((typeof self !== \"undefined\" ? self : this), function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"./\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 2);\n","/**\n * Copyright 2016 Google Inc. All Rights Reserved.\n *\n * Licensed under the W3C SOFTWARE AND DOCUMENT NOTICE AND LICENSE.\n *\n *  https://www.w3.org/Consortium/Legal/2015/copyright-software-and-document\n *\n */\n(function() {\n'use strict';\n\n// Exit early if we're not running in a browser.\nif (typeof window !== 'object') {\n  return;\n}\n\n// Exit early if all IntersectionObserver and IntersectionObserverEntry\n// features are natively supported.\nif ('IntersectionObserver' in window &&\n    'IntersectionObserverEntry' in window &&\n    'intersectionRatio' in window.IntersectionObserverEntry.prototype) {\n\n  // Minimal polyfill for Edge 15's lack of `isIntersecting`\n  // See: https://github.com/w3c/IntersectionObserver/issues/211\n  if (!('isIntersecting' in window.IntersectionObserverEntry.prototype)) {\n    Object.defineProperty(window.IntersectionObserverEntry.prototype,\n      'isIntersecting', {\n      get: function () {\n        return this.intersectionRatio > 0;\n      }\n    });\n  }\n  return;\n}\n\n\n/**\n * A local reference to the document.\n */\nvar document = window.document;\n\n\n/**\n * An IntersectionObserver registry. This registry exists to hold a strong\n * reference to IntersectionObserver instances currently observing a target\n * element. Without this registry, instances without another reference may be\n * garbage collected.\n */\nvar registry = [];\n\n\n/**\n * Creates the global IntersectionObserverEntry constructor.\n * https://w3c.github.io/IntersectionObserver/#intersection-observer-entry\n * @param {Object} entry A dictionary of instance properties.\n * @constructor\n */\nfunction IntersectionObserverEntry(entry) {\n  this.time = entry.time;\n  this.target = entry.target;\n  this.rootBounds = entry.rootBounds;\n  this.boundingClientRect = entry.boundingClientRect;\n  this.intersectionRect = entry.intersectionRect || getEmptyRect();\n  this.isIntersecting = !!entry.intersectionRect;\n\n  // Calculates the intersection ratio.\n  var targetRect = this.boundingClientRect;\n  var targetArea = targetRect.width * targetRect.height;\n  var intersectionRect = this.intersectionRect;\n  var intersectionArea = intersectionRect.width * intersectionRect.height;\n\n  // Sets intersection ratio.\n  if (targetArea) {\n    // Round the intersection ratio to avoid floating point math issues:\n    // https://github.com/w3c/IntersectionObserver/issues/324\n    this.intersectionRatio = Number((intersectionArea / targetArea).toFixed(4));\n  } else {\n    // If area is zero and is intersecting, sets to 1, otherwise to 0\n    this.intersectionRatio = this.isIntersecting ? 1 : 0;\n  }\n}\n\n\n/**\n * Creates the global IntersectionObserver constructor.\n * https://w3c.github.io/IntersectionObserver/#intersection-observer-interface\n * @param {Function} callback The function to be invoked after intersection\n *     changes have queued. The function is not invoked if the queue has\n *     been emptied by calling the `takeRecords` method.\n * @param {Object=} opt_options Optional configuration options.\n * @constructor\n */\nfunction IntersectionObserver(callback, opt_options) {\n\n  var options = opt_options || {};\n\n  if (typeof callback != 'function') {\n    throw new Error('callback must be a function');\n  }\n\n  if (options.root && options.root.nodeType != 1) {\n    throw new Error('root must be an Element');\n  }\n\n  // Binds and throttles `this._checkForIntersections`.\n  this._checkForIntersections = throttle(\n      this._checkForIntersections.bind(this), this.THROTTLE_TIMEOUT);\n\n  // Private properties.\n  this._callback = callback;\n  this._observationTargets = [];\n  this._queuedEntries = [];\n  this._rootMarginValues = this._parseRootMargin(options.rootMargin);\n\n  // Public properties.\n  this.thresholds = this._initThresholds(options.threshold);\n  this.root = options.root || null;\n  this.rootMargin = this._rootMarginValues.map(function(margin) {\n    return margin.value + margin.unit;\n  }).join(' ');\n}\n\n\n/**\n * The minimum interval within which the document will be checked for\n * intersection changes.\n */\nIntersectionObserver.prototype.THROTTLE_TIMEOUT = 100;\n\n\n/**\n * The frequency in which the polyfill polls for intersection changes.\n * this can be updated on a per instance basis and must be set prior to\n * calling `observe` on the first target.\n */\nIntersectionObserver.prototype.POLL_INTERVAL = null;\n\n/**\n * Use a mutation observer on the root element\n * to detect intersection changes.\n */\nIntersectionObserver.prototype.USE_MUTATION_OBSERVER = true;\n\n\n/**\n * Starts observing a target element for intersection changes based on\n * the thresholds values.\n * @param {Element} target The DOM element to observe.\n */\nIntersectionObserver.prototype.observe = function(target) {\n  var isTargetAlreadyObserved = this._observationTargets.some(function(item) {\n    return item.element == target;\n  });\n\n  if (isTargetAlreadyObserved) {\n    return;\n  }\n\n  if (!(target && target.nodeType == 1)) {\n    throw new Error('target must be an Element');\n  }\n\n  this._registerInstance();\n  this._observationTargets.push({element: target, entry: null});\n  this._monitorIntersections();\n  this._checkForIntersections();\n};\n\n\n/**\n * Stops observing a target element for intersection changes.\n * @param {Element} target The DOM element to observe.\n */\nIntersectionObserver.prototype.unobserve = function(target) {\n  this._observationTargets =\n      this._observationTargets.filter(function(item) {\n\n    return item.element != target;\n  });\n  if (!this._observationTargets.length) {\n    this._unmonitorIntersections();\n    this._unregisterInstance();\n  }\n};\n\n\n/**\n * Stops observing all target elements for intersection changes.\n */\nIntersectionObserver.prototype.disconnect = function() {\n  this._observationTargets = [];\n  this._unmonitorIntersections();\n  this._unregisterInstance();\n};\n\n\n/**\n * Returns any queue entries that have not yet been reported to the\n * callback and clears the queue. This can be used in conjunction with the\n * callback to obtain the absolute most up-to-date intersection information.\n * @return {Array} The currently queued entries.\n */\nIntersectionObserver.prototype.takeRecords = function() {\n  var records = this._queuedEntries.slice();\n  this._queuedEntries = [];\n  return records;\n};\n\n\n/**\n * Accepts the threshold value from the user configuration object and\n * returns a sorted array of unique threshold values. If a value is not\n * between 0 and 1 and error is thrown.\n * @private\n * @param {Array|number=} opt_threshold An optional threshold value or\n *     a list of threshold values, defaulting to [0].\n * @return {Array} A sorted list of unique and valid threshold values.\n */\nIntersectionObserver.prototype._initThresholds = function(opt_threshold) {\n  var threshold = opt_threshold || [0];\n  if (!Array.isArray(threshold)) threshold = [threshold];\n\n  return threshold.sort().filter(function(t, i, a) {\n    if (typeof t != 'number' || isNaN(t) || t < 0 || t > 1) {\n      throw new Error('threshold must be a number between 0 and 1 inclusively');\n    }\n    return t !== a[i - 1];\n  });\n};\n\n\n/**\n * Accepts the rootMargin value from the user configuration object\n * and returns an array of the four margin values as an object containing\n * the value and unit properties. If any of the values are not properly\n * formatted or use a unit other than px or %, and error is thrown.\n * @private\n * @param {string=} opt_rootMargin An optional rootMargin value,\n *     defaulting to '0px'.\n * @return {Array<Object>} An array of margin objects with the keys\n *     value and unit.\n */\nIntersectionObserver.prototype._parseRootMargin = function(opt_rootMargin) {\n  var marginString = opt_rootMargin || '0px';\n  var margins = marginString.split(/\\s+/).map(function(margin) {\n    var parts = /^(-?\\d*\\.?\\d+)(px|%)$/.exec(margin);\n    if (!parts) {\n      throw new Error('rootMargin must be specified in pixels or percent');\n    }\n    return {value: parseFloat(parts[1]), unit: parts[2]};\n  });\n\n  // Handles shorthand.\n  margins[1] = margins[1] || margins[0];\n  margins[2] = margins[2] || margins[0];\n  margins[3] = margins[3] || margins[1];\n\n  return margins;\n};\n\n\n/**\n * Starts polling for intersection changes if the polling is not already\n * happening, and if the page's visibility state is visible.\n * @private\n */\nIntersectionObserver.prototype._monitorIntersections = function() {\n  if (!this._monitoringIntersections) {\n    this._monitoringIntersections = true;\n\n    // If a poll interval is set, use polling instead of listening to\n    // resize and scroll events or DOM mutations.\n    if (this.POLL_INTERVAL) {\n      this._monitoringInterval = setInterval(\n          this._checkForIntersections, this.POLL_INTERVAL);\n    }\n    else {\n      addEvent(window, 'resize', this._checkForIntersections, true);\n      addEvent(document, 'scroll', this._checkForIntersections, true);\n\n      if (this.USE_MUTATION_OBSERVER && 'MutationObserver' in window) {\n        this._domObserver = new MutationObserver(this._checkForIntersections);\n        this._domObserver.observe(document, {\n          attributes: true,\n          childList: true,\n          characterData: true,\n          subtree: true\n        });\n      }\n    }\n  }\n};\n\n\n/**\n * Stops polling for intersection changes.\n * @private\n */\nIntersectionObserver.prototype._unmonitorIntersections = function() {\n  if (this._monitoringIntersections) {\n    this._monitoringIntersections = false;\n\n    clearInterval(this._monitoringInterval);\n    this._monitoringInterval = null;\n\n    removeEvent(window, 'resize', this._checkForIntersections, true);\n    removeEvent(document, 'scroll', this._checkForIntersections, true);\n\n    if (this._domObserver) {\n      this._domObserver.disconnect();\n      this._domObserver = null;\n    }\n  }\n};\n\n\n/**\n * Scans each observation target for intersection changes and adds them\n * to the internal entries queue. If new entries are found, it\n * schedules the callback to be invoked.\n * @private\n */\nIntersectionObserver.prototype._checkForIntersections = function() {\n  var rootIsInDom = this._rootIsInDom();\n  var rootRect = rootIsInDom ? this._getRootRect() : getEmptyRect();\n\n  this._observationTargets.forEach(function(item) {\n    var target = item.element;\n    var targetRect = getBoundingClientRect(target);\n    var rootContainsTarget = this._rootContainsTarget(target);\n    var oldEntry = item.entry;\n    var intersectionRect = rootIsInDom && rootContainsTarget &&\n        this._computeTargetAndRootIntersection(target, rootRect);\n\n    var newEntry = item.entry = new IntersectionObserverEntry({\n      time: now(),\n      target: target,\n      boundingClientRect: targetRect,\n      rootBounds: rootRect,\n      intersectionRect: intersectionRect\n    });\n\n    if (!oldEntry) {\n      this._queuedEntries.push(newEntry);\n    } else if (rootIsInDom && rootContainsTarget) {\n      // If the new entry intersection ratio has crossed any of the\n      // thresholds, add a new entry.\n      if (this._hasCrossedThreshold(oldEntry, newEntry)) {\n        this._queuedEntries.push(newEntry);\n      }\n    } else {\n      // If the root is not in the DOM or target is not contained within\n      // root but the previous entry for this target had an intersection,\n      // add a new record indicating removal.\n      if (oldEntry && oldEntry.isIntersecting) {\n        this._queuedEntries.push(newEntry);\n      }\n    }\n  }, this);\n\n  if (this._queuedEntries.length) {\n    this._callback(this.takeRecords(), this);\n  }\n};\n\n\n/**\n * Accepts a target and root rect computes the intersection between then\n * following the algorithm in the spec.\n * TODO(philipwalton): at this time clip-path is not considered.\n * https://w3c.github.io/IntersectionObserver/#calculate-intersection-rect-algo\n * @param {Element} target The target DOM element\n * @param {Object} rootRect The bounding rect of the root after being\n *     expanded by the rootMargin value.\n * @return {?Object} The final intersection rect object or undefined if no\n *     intersection is found.\n * @private\n */\nIntersectionObserver.prototype._computeTargetAndRootIntersection =\n    function(target, rootRect) {\n\n  // If the element isn't displayed, an intersection can't happen.\n  if (window.getComputedStyle(target).display == 'none') return;\n\n  var targetRect = getBoundingClientRect(target);\n  var intersectionRect = targetRect;\n  var parent = getParentNode(target);\n  var atRoot = false;\n\n  while (!atRoot) {\n    var parentRect = null;\n    var parentComputedStyle = parent.nodeType == 1 ?\n        window.getComputedStyle(parent) : {};\n\n    // If the parent isn't displayed, an intersection can't happen.\n    if (parentComputedStyle.display == 'none') return;\n\n    if (parent == this.root || parent == document) {\n      atRoot = true;\n      parentRect = rootRect;\n    } else {\n      // If the element has a non-visible overflow, and it's not the <body>\n      // or <html> element, update the intersection rect.\n      // Note: <body> and <html> cannot be clipped to a rect that's not also\n      // the document rect, so no need to compute a new intersection.\n      if (parent != document.body &&\n          parent != document.documentElement &&\n          parentComputedStyle.overflow != 'visible') {\n        parentRect = getBoundingClientRect(parent);\n      }\n    }\n\n    // If either of the above conditionals set a new parentRect,\n    // calculate new intersection data.\n    if (parentRect) {\n      intersectionRect = computeRectIntersection(parentRect, intersectionRect);\n\n      if (!intersectionRect) break;\n    }\n    parent = getParentNode(parent);\n  }\n  return intersectionRect;\n};\n\n\n/**\n * Returns the root rect after being expanded by the rootMargin value.\n * @return {Object} The expanded root rect.\n * @private\n */\nIntersectionObserver.prototype._getRootRect = function() {\n  var rootRect;\n  if (this.root) {\n    rootRect = getBoundingClientRect(this.root);\n  } else {\n    // Use <html>/<body> instead of window since scroll bars affect size.\n    var html = document.documentElement;\n    var body = document.body;\n    rootRect = {\n      top: 0,\n      left: 0,\n      right: html.clientWidth || body.clientWidth,\n      width: html.clientWidth || body.clientWidth,\n      bottom: html.clientHeight || body.clientHeight,\n      height: html.clientHeight || body.clientHeight\n    };\n  }\n  return this._expandRectByRootMargin(rootRect);\n};\n\n\n/**\n * Accepts a rect and expands it by the rootMargin value.\n * @param {Object} rect The rect object to expand.\n * @return {Object} The expanded rect.\n * @private\n */\nIntersectionObserver.prototype._expandRectByRootMargin = function(rect) {\n  var margins = this._rootMarginValues.map(function(margin, i) {\n    return margin.unit == 'px' ? margin.value :\n        margin.value * (i % 2 ? rect.width : rect.height) / 100;\n  });\n  var newRect = {\n    top: rect.top - margins[0],\n    right: rect.right + margins[1],\n    bottom: rect.bottom + margins[2],\n    left: rect.left - margins[3]\n  };\n  newRect.width = newRect.right - newRect.left;\n  newRect.height = newRect.bottom - newRect.top;\n\n  return newRect;\n};\n\n\n/**\n * Accepts an old and new entry and returns true if at least one of the\n * threshold values has been crossed.\n * @param {?IntersectionObserverEntry} oldEntry The previous entry for a\n *    particular target element or null if no previous entry exists.\n * @param {IntersectionObserverEntry} newEntry The current entry for a\n *    particular target element.\n * @return {boolean} Returns true if a any threshold has been crossed.\n * @private\n */\nIntersectionObserver.prototype._hasCrossedThreshold =\n    function(oldEntry, newEntry) {\n\n  // To make comparing easier, an entry that has a ratio of 0\n  // but does not actually intersect is given a value of -1\n  var oldRatio = oldEntry && oldEntry.isIntersecting ?\n      oldEntry.intersectionRatio || 0 : -1;\n  var newRatio = newEntry.isIntersecting ?\n      newEntry.intersectionRatio || 0 : -1;\n\n  // Ignore unchanged ratios\n  if (oldRatio === newRatio) return;\n\n  for (var i = 0; i < this.thresholds.length; i++) {\n    var threshold = this.thresholds[i];\n\n    // Return true if an entry matches a threshold or if the new ratio\n    // and the old ratio are on the opposite sides of a threshold.\n    if (threshold == oldRatio || threshold == newRatio ||\n        threshold < oldRatio !== threshold < newRatio) {\n      return true;\n    }\n  }\n};\n\n\n/**\n * Returns whether or not the root element is an element and is in the DOM.\n * @return {boolean} True if the root element is an element and is in the DOM.\n * @private\n */\nIntersectionObserver.prototype._rootIsInDom = function() {\n  return !this.root || containsDeep(document, this.root);\n};\n\n\n/**\n * Returns whether or not the target element is a child of root.\n * @param {Element} target The target element to check.\n * @return {boolean} True if the target element is a child of root.\n * @private\n */\nIntersectionObserver.prototype._rootContainsTarget = function(target) {\n  return containsDeep(this.root || document, target);\n};\n\n\n/**\n * Adds the instance to the global IntersectionObserver registry if it isn't\n * already present.\n * @private\n */\nIntersectionObserver.prototype._registerInstance = function() {\n  if (registry.indexOf(this) < 0) {\n    registry.push(this);\n  }\n};\n\n\n/**\n * Removes the instance from the global IntersectionObserver registry.\n * @private\n */\nIntersectionObserver.prototype._unregisterInstance = function() {\n  var index = registry.indexOf(this);\n  if (index != -1) registry.splice(index, 1);\n};\n\n\n/**\n * Returns the result of the performance.now() method or null in browsers\n * that don't support the API.\n * @return {number} The elapsed time since the page was requested.\n */\nfunction now() {\n  return window.performance && performance.now && performance.now();\n}\n\n\n/**\n * Throttles a function and delays its execution, so it's only called at most\n * once within a given time period.\n * @param {Function} fn The function to throttle.\n * @param {number} timeout The amount of time that must pass before the\n *     function can be called again.\n * @return {Function} The throttled function.\n */\nfunction throttle(fn, timeout) {\n  var timer = null;\n  return function () {\n    if (!timer) {\n      timer = setTimeout(function() {\n        fn();\n        timer = null;\n      }, timeout);\n    }\n  };\n}\n\n\n/**\n * Adds an event handler to a DOM node ensuring cross-browser compatibility.\n * @param {Node} node The DOM node to add the event handler to.\n * @param {string} event The event name.\n * @param {Function} fn The event handler to add.\n * @param {boolean} opt_useCapture Optionally adds the even to the capture\n *     phase. Note: this only works in modern browsers.\n */\nfunction addEvent(node, event, fn, opt_useCapture) {\n  if (typeof node.addEventListener == 'function') {\n    node.addEventListener(event, fn, opt_useCapture || false);\n  }\n  else if (typeof node.attachEvent == 'function') {\n    node.attachEvent('on' + event, fn);\n  }\n}\n\n\n/**\n * Removes a previously added event handler from a DOM node.\n * @param {Node} node The DOM node to remove the event handler from.\n * @param {string} event The event name.\n * @param {Function} fn The event handler to remove.\n * @param {boolean} opt_useCapture If the event handler was added with this\n *     flag set to true, it should be set to true here in order to remove it.\n */\nfunction removeEvent(node, event, fn, opt_useCapture) {\n  if (typeof node.removeEventListener == 'function') {\n    node.removeEventListener(event, fn, opt_useCapture || false);\n  }\n  else if (typeof node.detatchEvent == 'function') {\n    node.detatchEvent('on' + event, fn);\n  }\n}\n\n\n/**\n * Returns the intersection between two rect objects.\n * @param {Object} rect1 The first rect.\n * @param {Object} rect2 The second rect.\n * @return {?Object} The intersection rect or undefined if no intersection\n *     is found.\n */\nfunction computeRectIntersection(rect1, rect2) {\n  var top = Math.max(rect1.top, rect2.top);\n  var bottom = Math.min(rect1.bottom, rect2.bottom);\n  var left = Math.max(rect1.left, rect2.left);\n  var right = Math.min(rect1.right, rect2.right);\n  var width = right - left;\n  var height = bottom - top;\n\n  return (width >= 0 && height >= 0) && {\n    top: top,\n    bottom: bottom,\n    left: left,\n    right: right,\n    width: width,\n    height: height\n  };\n}\n\n\n/**\n * Shims the native getBoundingClientRect for compatibility with older IE.\n * @param {Element} el The element whose bounding rect to get.\n * @return {Object} The (possibly shimmed) rect of the element.\n */\nfunction getBoundingClientRect(el) {\n  var rect;\n\n  try {\n    rect = el.getBoundingClientRect();\n  } catch (err) {\n    // Ignore Windows 7 IE11 \"Unspecified error\"\n    // https://github.com/w3c/IntersectionObserver/pull/205\n  }\n\n  if (!rect) return getEmptyRect();\n\n  // Older IE\n  if (!(rect.width && rect.height)) {\n    rect = {\n      top: rect.top,\n      right: rect.right,\n      bottom: rect.bottom,\n      left: rect.left,\n      width: rect.right - rect.left,\n      height: rect.bottom - rect.top\n    };\n  }\n  return rect;\n}\n\n\n/**\n * Returns an empty rect object. An empty rect is returned when an element\n * is not in the DOM.\n * @return {Object} The empty rect.\n */\nfunction getEmptyRect() {\n  return {\n    top: 0,\n    bottom: 0,\n    left: 0,\n    right: 0,\n    width: 0,\n    height: 0\n  };\n}\n\n/**\n * Checks to see if a parent element contains a child element (including inside\n * shadow DOM).\n * @param {Node} parent The parent element.\n * @param {Node} child The child element.\n * @return {boolean} True if the parent node contains the child node.\n */\nfunction containsDeep(parent, child) {\n  var node = child;\n  while (node) {\n    if (node == parent) return true;\n\n    node = getParentNode(node);\n  }\n  return false;\n}\n\n\n/**\n * Gets the parent node of an element or its host element if the parent node\n * is a shadow root.\n * @param {Node} node The node whose parent to get.\n * @return {Node|null} The parent node or null if no parent exists.\n */\nfunction getParentNode(node) {\n  var parent = node.parentNode;\n\n  if (parent && parent.nodeType == 11 && parent.host) {\n    // If the parent is a shadow root, return the host element.\n    return parent.host;\n  }\n\n  if (parent && parent.assignedSlot) {\n    // If the parent is distributed in a <slot>, return the parent of a slot.\n    return parent.assignedSlot.parentNode;\n  }\n\n  return parent;\n}\n\n\n// Exposes the constructors globally.\nwindow.IntersectionObserver = IntersectionObserver;\nwindow.IntersectionObserverEntry = IntersectionObserverEntry;\n\n}());\n","(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){\nmodule.exports = (function() {\r\n\r\n  if(typeof EventTarget === 'undefined') {\r\n    window.EventTarget = Node;\r\n  }\r\n\r\n  /**\r\n   * Event listener interceptor\r\n   */\r\n\r\n  var EventListenerInterceptor = {\r\n    interceptors: [] // { target: EventTarget, interceptors: [{ add: Function, remove: Function }, ...] }\r\n  };\r\n\r\n\r\n  /**\r\n   * Returns if exists a previously registered listener from a target and the normalized arguments\r\n   * @param target\r\n   * @param normalizedArguments\r\n   * @return {*}\r\n   */\r\n  EventListenerInterceptor.getRegisteredEventListener = function(target, normalizedArguments) {\r\n    var key = normalizedArguments.type + '-' + (normalizedArguments.options.capture ? '1' : '0');\r\n    if(\r\n      (target.__eventListeners !== void 0) &&\r\n      (target.__eventListeners[key] !== void 0)\r\n    ) {\r\n      var map = target.__eventListeners[key];\r\n      for(var i = 0; i < map.length; i++) {\r\n        if(map[i].listener === normalizedArguments.listener) {\r\n          return map[i];\r\n        }\r\n      }\r\n    }\r\n    return null;\r\n  };\r\n\r\n  /**\r\n   * Registers a listener on a target with some options\r\n   * @param target\r\n   * @param normalizedArguments\r\n   */\r\n  EventListenerInterceptor.registerEventListener = function(target, normalizedArguments) {\r\n    var key = normalizedArguments.type + '-' + (normalizedArguments.options.capture ? '1' : '0');\r\n\r\n    if(target.__eventListeners === void 0) {\r\n      target.__eventListeners = {};\r\n    }\r\n\r\n    if(target.__eventListeners[key] === void 0) {\r\n      target.__eventListeners[key] = [];\r\n    }\r\n\r\n    target.__eventListeners[key].push(normalizedArguments);\r\n  };\r\n\r\n  /**\r\n   * Unregisters a listener on a target with some options\r\n   * @param target\r\n   * @param normalizedArguments\r\n   */\r\n  EventListenerInterceptor.unregisterEventListener = function(target, normalizedArguments) {\r\n    var key = normalizedArguments.type + '-' + (normalizedArguments.options.capture ? '1' : '0');\r\n    if(\r\n      (target.__eventListeners !==  void 0) &&\r\n      (target.__eventListeners[key] !== void 0)\r\n    ) {\r\n      var map = target.__eventListeners[key];\r\n      for(var i = 0; i < map.length; i++) {\r\n        if(map[i].listener === normalizedArguments.listener) {\r\n          map.splice(i, 1);\r\n        }\r\n      }\r\n\r\n      if(map.length === 0) {\r\n        delete target.__eventListeners[key];\r\n      }\r\n    }\r\n  };\r\n\r\n\r\n\r\n  EventListenerInterceptor.normalizeListenerCallback = function(listener) {\r\n    if((typeof listener === 'function') || (listener === null) || (listener === void 0)) {\r\n      return listener;\r\n    } else if((typeof listener === 'object') && (typeof listener.handleEvent === 'function')) {\r\n      return listener.handleEvent;\r\n    } else {\r\n      // to support Symbol\r\n      return function(event) {\r\n        listener(event);\r\n      };\r\n    }\r\n  };\r\n\r\n  EventListenerInterceptor.normalizeListenerOptions = function(options) {\r\n    switch(typeof options) {\r\n      case 'boolean':\r\n        options = { capture: options };\r\n        break;\r\n      case 'undefined':\r\n        options = { capture: false };\r\n        break;\r\n      case 'object':\r\n        if (options === null) {\r\n          options = { capture: false };\r\n        }\r\n        break;\r\n      default:\r\n        throw new Error('Unsupported options type for addEventListener');\r\n    }\r\n\r\n    options.once      = Boolean(options.once);\r\n    options.passive   = Boolean(options.passive);\r\n    options.capture   = Boolean(options.capture);\r\n\r\n    return options;\r\n  };\r\n\r\n  EventListenerInterceptor.normalizeListenerArguments = function(type, listener, options) {\r\n    return {\r\n      type: type,\r\n      listener: this.normalizeListenerCallback(listener),\r\n      options: this.normalizeListenerOptions(options)\r\n    };\r\n  };\r\n\r\n\r\n\r\n  EventListenerInterceptor.intercept = function(target, interceptors) {\r\n    // get an interceptor with this target or null\r\n    var interceptor = null;\r\n    for (var i = 0; i < this.interceptors.length; i++) {\r\n      if(this.interceptors[i].target === target) {\r\n        interceptor = this.interceptors[i];\r\n      }\r\n    }\r\n\r\n    // if no interceptor already set\r\n    if (interceptor === null) {\r\n      interceptor = { target: target, interceptors: [interceptors] };\r\n      this.interceptors.push(interceptor);\r\n\r\n      this.interceptAddEventListener(target, interceptor);\r\n      this.interceptRemoveEventListener(target, interceptor);\r\n    } else { // if an interceptor already set, simply add interceptors to the list\r\n      interceptor.interceptors.push(interceptors);\r\n    }\r\n\r\n    // var release = function() {\r\n    //   target.prototype.addEventListener = addEventListener;\r\n    //   target.prototype.removeEventListener = removeEventListener;\r\n    // };\r\n    // this.interceptors.push(release);\r\n    // return release;\r\n  };\r\n\r\n  EventListenerInterceptor.interceptAddEventListener = function(target, interceptor) {\r\n    var _this = this;\r\n\r\n    var addEventListener = target.prototype.addEventListener;\r\n    target.prototype.addEventListener = function(type, listener, options) {\r\n      var normalizedArguments = _this.normalizeListenerArguments(type, listener, options);\r\n      var registeredEventListener = _this.getRegisteredEventListener(this, normalizedArguments);\r\n\r\n      if (!registeredEventListener) {\r\n\r\n        normalizedArguments.polyfilled = {\r\n          type: normalizedArguments.type,\r\n          listener: normalizedArguments.listener,\r\n          options: {\r\n            capture: normalizedArguments.options.capture,\r\n            once: normalizedArguments.options.once,\r\n            passive: normalizedArguments.options.passive\r\n          }\r\n        };\r\n\r\n        for (var i = 0; i < interceptor.interceptors.length; i++) {\r\n          var interceptors = interceptor.interceptors[i];\r\n          if (typeof interceptors.add === 'function') {\r\n            interceptors.add(normalizedArguments);\r\n          }\r\n        }\r\n\r\n        // console.log('normalizedArguments', normalizedArguments.polyfilled);\r\n\r\n        _this.registerEventListener(this, normalizedArguments);\r\n\r\n        addEventListener.call(\r\n          this,\r\n          normalizedArguments.polyfilled.type,\r\n          normalizedArguments.polyfilled.listener,\r\n          normalizedArguments.polyfilled.options\r\n        );\r\n      }\r\n    };\r\n\r\n    return function() {\r\n      target.prototype.addEventListener = addEventListener;\r\n    };\r\n  };\r\n\r\n  EventListenerInterceptor.interceptRemoveEventListener = function(target, interceptor) {\r\n    var _this = this;\r\n\r\n    var removeEventListener = target.prototype.removeEventListener;\r\n    target.prototype.removeEventListener = function(type, listener, options) {\r\n      var normalizedArguments = _this.normalizeListenerArguments(type, listener, options);\r\n      var registeredEventListener = _this.getRegisteredEventListener(this, normalizedArguments);\r\n\r\n      if (registeredEventListener) {\r\n        _this.unregisterEventListener(this, normalizedArguments);\r\n        removeEventListener.call(\r\n          this,\r\n          registeredEventListener.polyfilled.type,\r\n          registeredEventListener.polyfilled.listener,\r\n          registeredEventListener.polyfilled.options\r\n        );\r\n      } else {\r\n        removeEventListener.call(this, type, listener, options);\r\n      }\r\n    };\r\n\r\n    return function() {\r\n      target.prototype.removeEventListener = removeEventListener;\r\n    };\r\n  };\r\n\r\n  EventListenerInterceptor.interceptAll = function(interceptors) {\r\n    this.intercept(EventTarget, interceptors);\r\n    if(!(window instanceof EventTarget)) {\r\n      this.intercept(Window, interceptors);\r\n    }\r\n  };\r\n\r\n  EventListenerInterceptor.releaseAll = function() {\r\n    for(var i = 0, l = this.interceptors.length; i < l; i++) {\r\n      this.interceptors();\r\n    }\r\n  };\r\n\r\n\r\n  EventListenerInterceptor.error = function(error) {\r\n    // throw error;\r\n    console.error(error);\r\n  };\r\n\r\n  return EventListenerInterceptor;\r\n})();\r\n\n},{}],2:[function(require,module,exports){\n(function(EventListenerInterceptor) {\r\n  /**\r\n   * Event listener type support\r\n   */\r\n\r\n  EventListenerInterceptor.isSupportedOnEvent = function(target, type) {\r\n    return (('on' + type) in target);\r\n  };\r\n\r\n  EventListenerInterceptor.isSupportedTransitionEvent = function(target, type) {\r\n    return EventListenerInterceptor.isSupportedOnEvent(target, type) || (('style' in target) && (target.style['transition'] !== void 0));\r\n  };\r\n\r\n  EventListenerInterceptor.isSupportedFullScreenEvent = function(target, type) {\r\n    if(EventListenerInterceptor.isSupportedOnEvent(target, type)) {\r\n      return true;\r\n    } else {\r\n      if(/^ms/.test(type.toLowerCase())) {\r\n        return 'msRequestFullscreen' in document.body;\r\n      } else if(/^moz/.test(type)) {\r\n        return 'mozRequestFullscreen' in document.body;\r\n      } else if(/^webkit/.test(type)) {\r\n        return 'webkitRequestFullscreen' in document.body;\r\n      } else {\r\n        return false;\r\n      }\r\n    }\r\n  };\r\n\r\n\r\n  EventListenerInterceptor.generateEventTypes = function() {\r\n    var _this = this;\r\n\r\n    this.eventTypes = {}; // map of types that resolved to something else\r\n    this.vendorPrefixes = ['', 'webkit', 'moz', 'ms', 'o'];\r\n\r\n\r\n    this.eventTypes['wheel'] = ['wheel', 'mousewheel', 'DOMMouseScroll'].map(function(type) {\r\n      return { type: type, isSupported: _this.isSupportedOnEvent } ;\r\n    });\r\n\r\n    this.eventTypes['fullscreenchange'] = ['fullscreenchange', 'mozfullscreenchange', 'webkitfullscreenchange', 'MSFullscreenChange', 'msfullscreenchange'].map(function(type) {\r\n      return { type: type, isSupported: _this.isSupportedFullScreenEvent } ;\r\n    });\r\n\r\n    this.eventTypes['fullscreenerror'] = ['fullscreenerror', 'mozfullscreenerror', 'webkitfullscreenerror', 'MSFullscreenError', 'msfullscreenerror'].map(function(type) {\r\n      return { type: type, isSupported: _this.isSupportedFullScreenEvent } ;\r\n    });\r\n\r\n    [\r\n      'pointerlockchange', 'pointerlockerror',\r\n      'animationstart', 'animationiteration', 'animationend',\r\n      'pointercancel', 'pointerdown', 'pointerhover', 'pointermove', 'pointerout', 'pointerover', 'pointerup'\r\n    ].forEach(function(type) {\r\n      _this.eventTypes[type] = _this.vendorPrefixes\r\n        .map(function(prefix) {\r\n          return { type: (prefix + type), isSupported: _this.isSupportedOnEvent } ;\r\n        });\r\n    });\r\n\r\n    ['transitionstart', 'transitionrun', 'transitionend'].forEach(function(type) {\r\n      _this.eventTypes[type] = _this.vendorPrefixes\r\n        .map(function(prefix) {\r\n          return { type: (prefix + type), isSupported: _this.isSupportedTransitionEvent } ;\r\n        });\r\n    });\r\n  };\r\n\r\n  EventListenerInterceptor.getSupportedEventType = function(target, type) {\r\n    var types = this.eventTypes[type];\r\n    if(types === void 0) {\r\n      return type;\r\n    } else {\r\n      var _type;\r\n      for(var i = 0; i < types.length; i++) {\r\n        _type = types[i];\r\n        if(_type.isSupported(target, _type.type)) {\r\n          // console.log('use : ' + eventTypesPolyfiller[i].type);\r\n          return _type.type;\r\n        }\r\n      }\r\n\r\n      // this.error(new Error('Event listener type ' + String(type) + ' on ' + String(target) + ' is not supported by current environment'));\r\n      return type;\r\n    }\r\n  };\r\n\r\n\r\n  EventListenerInterceptor.polyfillListenerEventTypes = function() {\r\n    this.generateEventTypes();\r\n\r\n    var _this = this;\r\n\r\n    this.interceptAll({\r\n      add: function(normalizedArguments) {\r\n        normalizedArguments.polyfilled.type = _this.getSupportedEventType(this, normalizedArguments.polyfilled.type);\r\n      }\r\n    });\r\n  };\r\n\r\n\r\n  EventListenerInterceptor.polyfillListenerEventTypes();\r\n\r\n})(require('./EventListenerInterceptor.js'));\n},{\"./EventListenerInterceptor.js\":1}],3:[function(require,module,exports){\n(function(EventListenerInterceptor) {\r\n  /**\r\n   * Event listener options support\r\n   */\r\n\r\n  EventListenerInterceptor.detectSupportedOptions = function() {\r\n    var _this = this;\r\n\r\n    this.supportedOptions = {\r\n      once: false,\r\n      passive: false,\r\n      capture: false,\r\n\r\n      all: false,\r\n      some: false\r\n    };\r\n\r\n    document.createDocumentFragment().addEventListener('test', function() {}, {\r\n      get once() {\r\n        _this.supportedOptions.once = true;\r\n        return false;\r\n      },\r\n      get passive() {\r\n        _this.supportedOptions.passive = true;\r\n        return false;\r\n      },\r\n      get capture() {\r\n        _this.supportedOptions.capture = true;\r\n        return false;\r\n      }\r\n    });\r\n\r\n    // useful shortcuts to detect if options are all/some supported\r\n    this.supportedOptions.all  = this.supportedOptions.once && this.supportedOptions.passive && this.supportedOptions.capture;\r\n    this.supportedOptions.some = this.supportedOptions.once || this.supportedOptions.passive || this.supportedOptions.capture;\r\n  };\r\n\r\n  EventListenerInterceptor.polyfillListenerOptions = function() {\r\n    this.detectSupportedOptions();\r\n    if (!this.supportedOptions.all) {\r\n      var _this = this;\r\n\r\n      this.interceptAll({\r\n        add: function(normalizedArguments) {\r\n          // console.log('intercepted', normalizedArguments);\r\n\r\n          var once = normalizedArguments.options.once && !_this.supportedOptions.once;\r\n          var passive = normalizedArguments.options.passive && !_this.supportedOptions.passive;\r\n\r\n          if (once || passive) {\r\n            var listener = normalizedArguments.polyfilled.listener;\r\n\r\n            normalizedArguments.polyfilled.listener = function(event) {\r\n              if(once) {\r\n                this.removeEventListener(normalizedArguments.type, normalizedArguments.listener, normalizedArguments.options);\r\n              }\r\n\r\n              if(passive) {\r\n                event.preventDefault = function() {\r\n                  throw new Error('Unable to preventDefault inside passive event listener invocation.');\r\n                };\r\n              }\r\n\r\n              return listener.call(this, event);\r\n            };\r\n          }\r\n\r\n          if (!_this.supportedOptions.some) {\r\n            normalizedArguments.polyfilled.options = normalizedArguments.options.capture;\r\n          }\r\n        }\r\n      });\r\n    }\r\n  };\r\n\r\n\r\n  EventListenerInterceptor.polyfillListenerOptions();\r\n\r\n\r\n  // var onclick = function() {\r\n  //   console.log('click');\r\n  // };\r\n\r\n  // document.body.addEventListener('click', onclick, false);\r\n  // document.body.addEventListener('click', onclick, { once: true });\r\n  // document.body.addEventListener('click', onclick, { once: true });\r\n  // document.body.addEventListener('click', onclick, false);\r\n  // document.body.addEventListener('click', onclick, false);\r\n\r\n})(require('./EventListenerInterceptor.js'));\n},{\"./EventListenerInterceptor.js\":1}],4:[function(require,module,exports){\nmodule.exports = (function() {\r\n  return function ApplyThisPrototype(event, target) {\r\n    if ((typeof target === 'object') && (target !== null)) {\r\n      var proto = Object.getPrototypeOf(target);\r\n      var property;\r\n\r\n      for (property in proto) {\r\n        if (!(property in event)) {\r\n          var descriptor = Object.getOwnPropertyDescriptor(proto, property);\r\n          if (descriptor) {\r\n            Object.defineProperty(event, property, descriptor);\r\n          }\r\n        }\r\n      }\r\n\r\n      for (property in target) {\r\n        if (!(property in event)) {\r\n          event[property] = target[property];\r\n        }\r\n      }\r\n    }\r\n  }\r\n})();\r\n\n},{}],5:[function(require,module,exports){\n(function(ApplyThisPrototype) {\r\n  /**\r\n   * Polyfill CustomEvent\r\n   */\r\n  try {\r\n    var event = new window.CustomEvent('event', { bubbles: true, cancelable: true });\r\n  } catch (error) {\r\n    var CustomEventOriginal = window.CustomEvent || window.Event;\r\n    var CustomEvent = function(eventName, params) {\r\n      params = params || {};\r\n      var event = document.createEvent('CustomEvent');\r\n      event.initCustomEvent(\r\n        eventName,\r\n        (params.bubbles === void 0) ? false : params.bubbles,\r\n        (params.cancelable === void 0) ? false : params.cancelable,\r\n        (params.detail === void 0) ? {} : params.detail\r\n      );\r\n      ApplyThisPrototype(event, this);\r\n      return event;\r\n    };\r\n    CustomEvent.prototype = CustomEventOriginal.prototype;\r\n    window.CustomEvent = CustomEvent;\r\n  }\r\n})(require('./ApplyThisPrototype.js'));\n},{\"./ApplyThisPrototype.js\":4}],6:[function(require,module,exports){\n(function(ApplyThisPrototype) {\r\n  // , \r\n\r\n  /**\r\n   * Polyfill Event\r\n   */\r\n  try {\r\n    var event = new window.Event('event', { bubbles: true, cancelable: true });\r\n  } catch(error) {\r\n    var EventOriginal = window.Event;\r\n    var Event = function(eventName, params) {\r\n      params = params || {};\r\n      var event = document.createEvent('Event');\r\n      event.initEvent(\r\n        eventName,\r\n        (params.bubbles === void 0) ? false : params.bubbles,\r\n        (params.cancelable === void 0) ? false : params.cancelable,\r\n        (params.detail === void 0) ? {} : params.detail\r\n      );\r\n      ApplyThisPrototype(event, this);\r\n      return event;\r\n    };\r\n    Event.prototype = EventOriginal.prototype;\r\n    window.Event = Event;\r\n  }\r\n})(require('./ApplyThisPrototype.js'));\n},{\"./ApplyThisPrototype.js\":4}],7:[function(require,module,exports){\n(function(ApplyThisPrototype) {\r\n  /**\r\n   * Polyfill FocusEvent : https://developer.mozilla.org/en-US/docs/Web/API/FocusEvent/FocusEvent\r\n   *  - relatedTarget \r\n   */\r\n  try {\r\n    var event = new window.FocusEvent('event', { bubbles: true, cancelable: true });\r\n  } catch (error) {\r\n    var FocusEventOriginal = window.FocusEvent || window.Event;\r\n    var FocusEvent = function(eventName, params) {\r\n      params = params || {};\r\n      var event = document.createEvent('FocusEvent');\r\n\r\n      // https://msdn.microsoft.com/en-us/library/ff975954(v=vs.85).aspx\r\n      event.initFocusEvent(\r\n        eventName,\r\n        (params.bubbles === void 0) ? false : params.bubbles,\r\n        (params.cancelable === void 0) ? false : params.cancelable,\r\n        (params.view === void 0) ? window : params.view,\r\n        (params.detail === void 0) ? {} : params.detail,\r\n        (params.relatedTarget === void 0) ? null : params.relatedTarget\r\n      );\r\n\r\n      ApplyThisPrototype(event, this);\r\n\r\n      return event;\r\n    };\r\n    FocusEvent.prototype = FocusEventOriginal.prototype;\r\n    window.FocusEvent = FocusEvent;\r\n  }\r\n})(require('./ApplyThisPrototype.js'));\n},{\"./ApplyThisPrototype.js\":4}],8:[function(require,module,exports){\n(function(ApplyThisPrototype) {\r\n  /**\r\n   * Polyfill KeyboardEvent : https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent/KeyboardEvent\r\n   *  - key \r\n   *  - char \r\n   *  - code \r\n   *  - location \r\n   *  - ctrlKey \r\n   *  - shiftKey \r\n   *  - altKey \r\n   *  - metaKey \r\n   *  - repeat \r\n   *  - isComposing \r\n   *  - charCode \r\n   *  - keyCode \r\n   *  - which \r\n   */\r\n  try {\r\n    var event = new window.KeyboardEvent('event', { bubbles: true, cancelable: true });\r\n  } catch (error) {\r\n    var KeyboardEventOriginal = window.KeyboardEvent || window.Event;\r\n    var KeyboardEvent = function(eventName, params) {\r\n      params = params || {};\r\n      var event = document.createEvent('KeyboardEvent');\r\n\r\n      // https://msdn.microsoft.com/en-us/library/ff975297(v=vs.85).aspx\r\n      event.initKeyboardEvent(\r\n        eventName,\r\n        (params.bubbles === void 0) ? false : params.bubbles,\r\n        (params.cancelable === void 0) ? false : params.cancelable,\r\n        (params.view === void 0) ? window : params.view,\r\n        (params.key === void 0) ? '' : params.key,\r\n        (params.location === void 0) ? 0 : params.location,\r\n        ((params.ctrlKey === true) ? 'Control ' : '') +\r\n        ((params.altKey === true) ? 'Alt ' : '') +\r\n        ((params.shiftKey === true) ? 'Shift ' : '') +\r\n        ((params.metaKey === true) ? 'Meta ' : ''),\r\n        (params.repeat === void 0) ? false : params.repeat,\r\n        (params.locale === void 0) ? navigator.language : params.locale\r\n      );\r\n\r\n      event.keyCode   = (params.keyCode === void 0) ? 0 : params.keyCode;\r\n      event.code      = (params.code === void 0) ? '' : params.code;\r\n      event.charCode  = (params.charCode === void 0) ? 0 : params.charCode;\r\n      event.char      = (params.charCode === void 0) ? '' : params.charCode;\r\n      event.which     = (params.which === void 0) ? 0 : params.which;\r\n\r\n      ApplyThisPrototype(event, this);\r\n\r\n      return event;\r\n    };\r\n    KeyboardEvent.prototype = KeyboardEventOriginal.prototype;\r\n    window.KeyboardEvent = KeyboardEvent;\r\n  }\r\n\r\n})(require('./ApplyThisPrototype.js'));\n},{\"./ApplyThisPrototype.js\":4}],9:[function(require,module,exports){\n(function(ApplyThisPrototype) {\r\n  /**\r\n   * Polyfill MouseEvent : https://developer.mozilla.org/en-US/docs/Web/API/MouseEvent/MouseEvent\r\n   *  - screenX \r\n   *  - screenY \r\n   *  - clientX \r\n   *  - clientY \r\n   *  - ctrlKey \r\n   *  - shiftKey \r\n   *  - altKey \r\n   *  - metaKey \r\n   *  - button \r\n   *  - buttons \r\n   *  - region \r\n   */\r\n  try {\r\n    var event = new window.MouseEvent('event', { bubbles: true, cancelable: true });\r\n  } catch (error) {\r\n    var MouseEventOriginal = window.MouseEvent || window.Event;\r\n    var MouseEvent = function(eventName, params) {\r\n      params = params || {};\r\n      var event = document.createEvent('MouseEvent');\r\n\r\n      // https://msdn.microsoft.com/en-us/library/ff975292(v=vs.85).aspx\r\n      event.initMouseEvent(\r\n        eventName,\r\n        (params.bubbles === void 0) ? false : params.bubbles,\r\n        (params.cancelable === void 0) ? false : params.cancelable,\r\n        (params.view === void 0) ? window : params.view,\r\n        (params.detail === void 0) ? 0 : params.detail,\r\n        (params.screenX === void 0) ? 0 : params.screenX,\r\n        (params.screenY === void 0) ? 0 : params.screenY,\r\n        (params.clientX === void 0) ? 0 : params.clientX,\r\n        (params.clientY === void 0) ? 0 : params.clientY,\r\n        (params.ctrlKey === void 0) ? false : params.ctrlKey,\r\n        (params.altKey === void 0) ? false : params.altKey,\r\n        (params.shiftKey === void 0) ? false : params.shiftKey,\r\n        (params.metaKey === void 0) ? false : params.metaKey,\r\n        (params.button === void 0) ? 0 : params.button,\r\n        (params.relatedTarget === void 0) ? null : params.relatedTarget\r\n      );\r\n\r\n      event.buttons = (params.buttons === void 0) ? 0 : params.buttons;\r\n      event.region  = (params.region === void 0) ? null : params.region;\r\n\r\n      ApplyThisPrototype(event, this);\r\n\r\n      return event;\r\n    };\r\n    MouseEvent.prototype = MouseEventOriginal.prototype;\r\n    window.MouseEvent = MouseEvent;\r\n  }\r\n})(require('./ApplyThisPrototype.js'));\n},{\"./ApplyThisPrototype.js\":4}],10:[function(require,module,exports){\n(function(ApplyThisPrototype) {\r\n  /**\r\n   * Polyfill PointerEvent\r\n   *  - pointerId \r\n   *  - width \r\n   *  - height \r\n   *  - pressure \r\n   *  - tangentialPressure \r\n   *  - tiltX \r\n   *  - tiltY \r\n   *  - twist \r\n   *  - pointerType \r\n   *  - isPrimary \r\n   */\r\n  try {\r\n    var event = new window.PointerEvent('event', { bubbles: true, cancelable: true });\r\n  } catch (error) {\r\n    var PointerEventOriginal = window.PointerEvent || window.Event;\r\n    var PointerEvent = function(eventName, params) {\r\n      params = params || {};\r\n      var event = document.createEvent('PointerEvent');\r\n\r\n      // https://msdn.microsoft.com/en-us/library/jj192039(v=vs.85).aspx\r\n      event.initPointerEvent(\r\n        eventName,\r\n        (params.bubbles === void 0) ? false : params.bubbles,\r\n        (params.cancelable === void 0) ? false : params.cancelable,\r\n        (params.view === void 0) ? window : params.view,\r\n        (params.detail === void 0) ? 0 : params.detail,\r\n        (params.screenX === void 0) ? 0 : params.screenX,\r\n        (params.screenY === void 0) ? 0 : params.screenY,\r\n        (params.clientX === void 0) ? 0 : params.clientX,\r\n        (params.clientY === void 0) ? 0 : params.clientY,\r\n        (params.ctrlKey === void 0) ? false : params.ctrlKey,\r\n        (params.altKey === void 0) ? false : params.altKey,\r\n        (params.shiftKey === void 0) ? false : params.shiftKey,\r\n        (params.metaKey === void 0) ? false : params.metaKey,\r\n        (params.button === void 0) ? 0 : params.button,\r\n        (params.relatedTarget === void 0) ? null : params.relatedTarget,\r\n\r\n        (params.offsetX  === void 0) ? 0 : params.offsetX,\r\n        (params.offsetY  === void 0) ? 0 : params.offsetY,\r\n        (params.width === void 0) ? 1 : params.width,\r\n        (params.height === void 0) ? 1 : params.height,\r\n        (params.pressure === void 0) ? 0 : params.pressure,\r\n        (params.twist === void 0) ? 0 : params.twist,\r\n        (params.tiltX === void 0) ? 0 : params.tiltX,\r\n        (params.tiltY === void 0) ? 0 : params.tiltY,\r\n        (params.pointerId === void 0) ? 0 : params.pointerId,\r\n        (params.pointerType === void 0) ? '' : params.pointerType,\r\n        (params.hwTimestamp === void 0) ? 0 : params.hwTimestamp,\r\n        (params.isPrimary === void 0) ? false : params.isPrimary\r\n      );\r\n\r\n      event.tangentialPressure = (params.tangentialPressure === void 0) ? 0 : params.tangentialPressure;\r\n\r\n      ApplyThisPrototype(event, this);\r\n\r\n      return event;\r\n    };\r\n\r\n    PointerEvent.prototype = PointerEventOriginal.prototype;\r\n\r\n    var rotationDescriptor = Object.getOwnPropertyDescriptor(PointerEvent.prototype, 'rotation');\r\n    if (rotationDescriptor) {\r\n      Object.defineProperty(PointerEvent.prototype, 'twist', rotationDescriptor);\r\n    }\r\n\r\n    window.PointerEvent = PointerEvent;\r\n  }\r\n})(require('./ApplyThisPrototype.js'));\n},{\"./ApplyThisPrototype.js\":4}],11:[function(require,module,exports){\nrequire('./Event.js');\r\nrequire('./CustomEvent.js');\r\nrequire('./MouseEvent.js');\r\nrequire('./KeyboardEvent.js');\r\nrequire('./FocusEvent.js');\r\nrequire('./PointerEvent.js');\n},{\"./CustomEvent.js\":5,\"./Event.js\":6,\"./FocusEvent.js\":7,\"./KeyboardEvent.js\":8,\"./MouseEvent.js\":9,\"./PointerEvent.js\":10}],12:[function(require,module,exports){\nrequire('./constructors/index.js');\r\nrequire('./ListenerOptions.js');\r\nrequire('./ListenerEventTypes.js');\r\n\n},{\"./ListenerEventTypes.js\":2,\"./ListenerOptions.js\":3,\"./constructors/index.js\":11}]},{},[12]);\n","/**\n * Simple object check.\n * @param item\n * @returns {boolean}\n */\nexport function isObject(item) {\n  return (item && typeof item === 'object' && !Array.isArray(item));\n}\n","/*******************************************************************************\n * IMPORTS\n *******************************************************************************/\nimport {mergeDeep} from '../util/mergeDeep';\n\n// import { disableBodyScroll, enableBodyScroll /*, clearAllBodyScrollLocks */ } from 'body-scroll-lock';\n\n/*******************************************************************************\n * CE MENU\n *******************************************************************************/\nexport function setVisible(entryCurrents, entryPrevs, entryNexts, IouInstance) {\n  let dataVisible = IouInstance.strings.attributeVisible;\n  let dataVisibleTrue = IouInstance.strings.attributeVisibleTrue;\n  let dataRelation = IouInstance.strings.attributeRelation;\n  let dataRelationCurrent = IouInstance.strings.attributeRelationCurrent;\n\n  let dataRelationNext = IouInstance.strings.attributeRelationNext;\n  let dataRelationPrev = IouInstance.strings.attributeRelationPrev;\n\n\n  entryCurrents.forEach(function (targetEl) {\n    targetEl.setAttribute(dataVisible, dataVisibleTrue);\n    targetEl.setAttribute(dataRelation, dataRelationCurrent);\n  });\n\n  entryPrevs.forEach(function (prevEl) {\n    prevEl.setAttribute(dataRelation, dataRelationPrev);\n  });\n\n  entryNexts.forEach(function (nextEl) {\n    nextEl.setAttribute(dataRelation, dataRelationNext);\n  });\n\n}\n\n\n\nexport function setInVisible(entryCurrents, entryPrevs, entryNexts, IouInstance) {\n  let dataVisible = IouInstance.strings.attributeVisible;\n  let dataVisibleFalse = IouInstance.strings.attributeVisibleFalse;\n  let dataVisibleTrue = IouInstance.strings.attributeVisibleTrue;\n\n  let dataRelation = IouInstance.strings.attributeRelation;\n  let dataRelationCurrent = IouInstance.strings.attributeRelationCurrent;\n\n\n\n  entryCurrents.forEach(function (targetEl) {\n    targetEl.setAttribute(dataVisible, dataVisibleFalse);\n  });\n\n  entryPrevs.forEach(function (prevEl) {\n    if (prevEl.getAttribute(dataVisible) === dataVisibleTrue) {\n      prevEl.setAttribute(dataRelation, dataRelationCurrent);\n    }\n  });\n\n  entryNexts.forEach(function (nextEl) {\n    if (nextEl.getAttribute(dataVisible) === dataVisibleTrue) {\n      nextEl.setAttribute(dataRelation, dataRelationCurrent);\n    }\n  });\n\n}\n\nexport function setDirection(entryCurrents, posVal, IouInstance) {\n  let dataAttr = IouInstance.strings.attributeDirection;\n\n  entryCurrents.forEach(function (targetEl) {\n    targetEl.setAttribute(dataAttr, posVal);\n  });\n\n\n}\n\nexport function setRelation(entryPrevs, entryNexts, IouInstance) {\n  let dataRelation = IouInstance.strings.attributeRelation;\n  let dataRelationNext = IouInstance.strings.attributeRelationNext;\n  let dataRelationPrev = IouInstance.strings.attributeRelationPrev;\n\n  entryNexts.forEach(function (nextEl) {\n    nextEl.setAttribute(dataRelation, dataRelationNext);\n  });\n\n  entryPrevs.forEach(function (prevEl) {\n    prevEl.setAttribute(dataRelation, dataRelationPrev);\n  });\n\n}\n\n\nfunction getNextSiblings(elem) {\n  let tagNameMain = elem.tagName;\n  let siblings = [];\n  while (elem = elem.nextSibling) {\n    if (elem.tagName !== tagNameMain) continue; // text node\n    siblings.push(elem);\n  }\n  return siblings;\n\n}\n\nfunction getPreviousSiblings(elem) {\n  let tagNameMain = elem.tagName;\n  let siblings = [];\n  while (elem = elem.previousSibling) {\n    if (elem.tagName !== tagNameMain) continue; // text node\n    siblings.push(elem);\n  }\n  return siblings;\n}\n\n\n/*******************************************************************************\n * INIT\n *******************************************************************************/\n\nexport default {setVisible, setInVisible, setDirection, setRelation, getNextSiblings, getPreviousSiblings};\n\n","/**\n * iou intersection observer 1.0.2\n * sets data attributes accordingly to the position of the html elements regarding the viewport\n * https://github.com/nico-jacobs/intersection-observer-utility#readme\n *\n * Copyright 2020 Nico Jacobs\n *\n * Released under the MIT License\n *\n * Released on: April 26, 2020\n */\n\n// import `.scss` files\n// not needed right now\n// import './scss/styles.scss';\n\n// import UserList class\nimport { Iou as defaultExport } from './js/lib/iou.js';\n\n// export default UserList class\n// I used `defaultExport` to state that variable name doesn't matter\nexport default defaultExport;","// import dependencies\nimport 'intersection-observer';\nimport 'events-polyfill';\nimport {mergeDeep} from '../util/mergeDeep';\nimport iouFunctions from './iouDefaultFunctions';\n\n// return UserList class\n\n\nexport class Iou {\n\n  /**\n   * construct Class\n   */\n  constructor(customOptions) {\n    let settings = this.mergeCustomDefaultOptions(customOptions, this);\n\n    this.elementTrigger = settings.elementTrigger;\n    this.strings = settings.strings;\n    this.functions = settings.functions;\n    this.initialized = false;\n    this.pageHasScrolled = false;\n  }\n\n  mergeCustomDefaultOptions(customOptions, self) {\n\n    // set the defaults\n    const defaults = {\n      elementTrigger: '[data-iou-trigger]', // note you can use all kinds of selectors css classes, Ids & data-attributes\n                                            // also multiple selectors separated by comma.\n      strings: {\n        attributeTarget: 'data-iou-target', // this has to be a data-attribute\n        attributeVisible: 'data-iou-visible', // this has to be a data-attribute\n        attributeVisibleTrue: 'true', // this has to be a data-attribute\n\n        attributeVisibleTop: 'visible-top', // this has to be a data-attribute value\n        attributeVisibleBottom: 'visible-bottom', // this has to be a data-attribute value\n        attributeInVisibleTop: 'invisible-top', // this has to be a data-attribute value\n        attributeInVisibleBottom: 'invisible-bottom', // this has to be a data-attribute value\n\n        attributeVisibleFalse: 'false', // this has to be a data-attribute\n        attributeDirection: 'data-iou-direction', // this has to be a data-attribute\n        attributeRelation: 'data-iou-relation', // this has to be a data-attribute\n        attributeRelationCurrent: 'current', // this has to be a data-attribute\n        attributeRelationPrev: 'prev', // this has to be a data-attribute\n        attributeRelationNext: 'next', // this has to be a data-attribute\n        siblingsFilter: 'iou-section',\n      },\n      functions: {\n        setVisible(entryCurrents, entryPrevs, entryNexts,) {\n          iouFunctions.setVisible(entryCurrents, entryPrevs, entryNexts, self);\n        },\n        setInVisible(entryCurrents, entryPrevs, entryNexts) {\n          iouFunctions.setInVisible(entryCurrents, entryPrevs, entryNexts, self);\n        },\n        setDirection(entryCurrents, posVal) {\n          iouFunctions.setDirection(entryCurrents, posVal, self);\n        },\n\n        setRelation(entryPrevs, entryNexts,) {\n          iouFunctions.setRelation(entryPrevs, entryNexts, self);\n        },\n\n        dispatchIouOut(entry) {\n          let eventIouOut = new CustomEvent('iouOut', {\n            bubbles: true,\n            cancelable: true,\n            detail: {\n              entryObj: entry\n            }\n          });\n\n          document.dispatchEvent(eventIouOut);\n        },\n\n        dispatchIouIn(entry) {\n          let eventIouIn = new CustomEvent('iouIn', {\n            bubbles: true,\n            cancelable: true,\n            detail: {\n              entryObj: entry\n            }\n          });\n\n          document.dispatchEvent(eventIouIn);\n        }\n      },\n\n\n      siblingsNext: '',\n      siblingsPrev: '',\n    };\n\n    // merge the customOptions with the default Options\n    let settings = mergeDeep(defaults, customOptions);\n    return settings;\n  };\n\n\n  /**\n   * initialize plugin\n   */\n\n  init() {\n\n    this.IntersectionWatcher();\n\n    // this.userHasScrolled();\n\n    // set initialized to `true`\n    this.initialized = true;\n  };\n\n  setEntryRelation(el) {\n    let IouInstance = this;\n    let targetString = el.getAttribute(IouInstance.strings.attributeTarget);\n\n    if (targetString.indexOf(',') !== -1) {\n      // the target string contains a comma and ist therefore most likely an array\n      let re = /,\\s/; // split on colon space or comma space\n      let targetArray = targetString.split(re);\n\n      targetArray.forEach(function (targetSel) {\n        let currentEls = document.querySelectorAll(targetSel);\n        currentEls.forEach(function (currentEl) {\n          el.siblingsNext = iouFunctions.getNextSiblings(currentEl);\n          el.siblingsPrev = iouFunctions.getPreviousSiblings(currentEl);\n\n        });\n        el.targetEls = currentEls;\n      })\n    } else {\n      let currentEls = document.querySelectorAll(targetString);\n      currentEls.forEach(function (currentEl) {\n        el.siblingsNext = iouFunctions.getNextSiblings(currentEl);\n        el.siblingsPrev = iouFunctions.getPreviousSiblings(currentEl);\n      });\n      el.targetEls = currentEls;\n    }\n\n  };\n\n  IntersectionWatcher() {\n    let elements = document.querySelectorAll(this.elementTrigger);\n    const config = {\n      root: null, // avoiding 'root' or setting it to 'null' sets it to default value: viewport\n      rootMargin: '0px',\n      threshold: [0]\n      // threshold: [0, 0.25, 0.5, 0.75, 1]\n    };\n    let observer;\n\n    observer = new IntersectionObserver(entries => {\n      entries.forEach(entry => {\n        console.log(entry.target.targetEls);\n        this.entryLogicIn(entry);\n        this.entryLogicOut(entry);\n      });\n    },config);\n\n    elements.forEach(element => {\n      this.setEntryRelation(element);\n      observer.observe(element);\n    });\n  };\n\n  entryLogicIn(entry) {\n    if (entry.isIntersecting === true) {\n      let self = this;\n      let entryCurrents = entry.target.targetEls;\n      let entryNexts = entry.target.siblingsNext;\n      let entryPrevs = entry.target.siblingsPrev;\n\n      // entry.intersectionRatio => is visible\n      let yPos = entry.boundingClientRect.top;\n\n      let eventIouIn = new CustomEvent('iouIn', {\n        bubbles: true,\n        cancelable: true,\n        detail: {\n          entryObj: entry,\n        }\n      });\n      document.dispatchEvent(eventIouIn);\n\n      // this.functions.setRelation(entryPrevs, entryNexts);\n      this.functions.setVisible(entryCurrents, entryPrevs, entryNexts);\n      // debugger;\n\n      // here we check if the Element comes in from top or bottom\n      if (yPos < 0) {\n        // yPos < 0 means the element comes in from top\n\n        // generell function\n        this.functions.setDirection(entryCurrents, self.strings.attributeVisibleTop);\n\n      } else {\n        // yPos > 0 means the element comes in from bottom\n        this.functions.setDirection(entryCurrents, self.strings.attributeVisibleBottom);\n      }\n    }\n  }\n\n  entryLogicOut(entry) {\n    if (entry.isIntersecting === false) {\n      let self = this;\n      let entryCurrents = entry.target.targetEls;\n      let entryNexts = entry.target.siblingsNext;\n      let entryPrevs = entry.target.siblingsPrev;\n\n      // element is out of view\n      this.functions.setInVisible(entryCurrents, entryPrevs, entryNexts);\n\n      // this.functions.setRelation(entry);\n      let yPos = entry.boundingClientRect.top;\n\n      let eventIouOut = new CustomEvent('iouOut', {\n        bubbles: true,\n        cancelable: true,\n        detail: {\n          entryObj: entry\n        }\n      });\n      document.dispatchEvent(eventIouOut);\n\n      // here we check if the Element leaves at top or bottom\n      if (yPos < 0) {\n        // yPos < 0 means the element leaves at top\n        this.functions.setDirection(entryCurrents, self.strings.attributeInVisibleTop);\n      } else {\n        // yPos > 0 means the element leaves at bottom\n        this.functions.setDirection(entryCurrents, self.strings.attributeInVisibleBottom);\n      }\n    }\n  }\n\n  // attach scrollevent listener once user has scrolled\n  userHasScrolled(setHasScrolled) {\n    let self = this;\n\n    if (self.pageHasScrolled === false) {\n      setTimeout(function () {\n        document.addEventListener('scroll', function () {\n          self.pageHasScrolled = true;\n          return true;\n        }, {once: true});\n      }, 2000);\n    }\n    return false;\n  }\n}\n","import { isObject } from '../util/isObject';\n\n/**\n * Deep merge two objects.\n * @param target\n * @param ...sources\n */\nexport function mergeDeep(target, ...sources) {\n  if (!sources.length) return target;\n  const source = sources.shift();\n\n  if (isObject(target) && isObject(source)) {\n    for (const key in source) {\n      if (isObject(source[key])) {\n        if (!target[key]) Object.assign(target, { [key]: {} });\n        mergeDeep(target[key], source[key]);\n      } else {\n        Object.assign(target, { [key]: source[key] });\n      }\n    }\n  }\n\n  return mergeDeep(target, ...sources);\n}"],"sourceRoot":""}